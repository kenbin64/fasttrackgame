<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download | ButterflyFX</title>
    
    <meta name="description" content="Download ButterflyFX dimensional computing framework. Accept Terms of Service to proceed.">
    <link rel="canonical" href="https://butterflyfx.us/download.html">
    
    <style>
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --border-color: #2a2a3a;
            --text-primary: #fff;
            --text-secondary: #a0a0b0;
            --accent-purple: #8855ff;
            --accent-blue: #4285F4;
            --accent-pink: #ff55aa;
            --accent-green: #50fa7b;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(136, 85, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 85, 170, 0.1) 0%, transparent 50%);
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
        }
        
        .logo {
            font-size: 1.8em;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }
        
        h1 {
            font-size: 2.2em;
            margin: 20px 0 10px;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1em;
        }
        
        /* Wizard Steps */
        .wizard {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
        }
        
        .wizard-progress {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            gap: 10px;
        }
        
        .step-indicator {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-num {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        .step-indicator.active .step-num {
            background: var(--accent-purple);
        }
        
        .step-indicator.completed .step-num {
            background: var(--accent-green);
        }
        
        .step-label {
            color: var(--text-secondary);
            font-size: 0.85em;
        }
        
        .step-indicator.active .step-label {
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .step-line {
            flex: 0.5;
            height: 2px;
            background: var(--border-color);
            align-self: center;
        }
        
        .step-indicator.completed + .step-line {
            background: var(--accent-green);
        }
        
        @media (max-width: 600px) {
            .step-label { display: none; }
            .wizard-progress { justify-content: center; }
        }
        
        /* Step Content */
        .wizard-content {
            padding: 40px;
        }
        
        .wizard-step {
            display: none;
        }
        
        .wizard-step.active {
            display: block;
        }
        
        .wizard-step h2 {
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        /* Package Selection */
        .package-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .package-option {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .package-option:hover {
            border-color: var(--accent-purple);
        }
        
        .package-option.selected {
            border-color: var(--accent-green);
            background: rgba(80, 250, 123, 0.1);
        }
        
        .package-option input {
            display: none;
        }
        
        .package-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .package-name {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .package-desc {
            color: var(--text-secondary);
            font-size: 0.85em;
        }
        
        .package-version {
            color: var(--accent-purple);
            font-size: 0.8em;
            margin-top: 10px;
        }
        
        /* ToS Section */
        .tos-container {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            height: 300px;
            overflow-y: auto;
            padding: 20px;
            margin: 20px 0;
            font-size: 0.9em;
            line-height: 1.6;
            color: var(--text-secondary);
        }
        
        .tos-container h3 {
            color: var(--text-primary);
            margin: 20px 0 10px;
            font-size: 1.1em;
        }
        
        .tos-container h3:first-child {
            margin-top: 0;
        }
        
        .tos-container ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .tos-accept {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(80, 250, 123, 0.1);
            border: 1px solid rgba(80, 250, 123, 0.3);
            border-radius: 10px;
        }
        
        .tos-accept input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--accent-green);
        }
        
        .tos-accept label {
            cursor: pointer;
        }
        
        /* Download Buttons */
        .download-options {
            margin: 30px 0;
        }
        
        .download-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .download-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .download-icon {
            font-size: 1.5em;
        }
        
        .download-name {
            font-weight: 600;
        }
        
        .download-meta {
            color: var(--text-secondary);
            font-size: 0.85em;
        }
        
        .btn-download {
            padding: 10px 25px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            border: none;
            border-radius: 8px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.2s;
        }
        
        .btn-download:hover {
            transform: scale(1.05);
        }
        
        .btn-download:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Navigation */
        .wizard-nav {
            display: flex;
            justify-content: space-between;
            padding: 20px 40px;
            border-top: 1px solid var(--border-color);
            background: rgba(0, 0, 0, 0.2);
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-secondary {
            background: var(--border-color);
            color: var(--text-primary);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            color: #fff;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn:not(:disabled):hover {
            transform: translateY(-2px);
        }
        
        /* Success Step */
        .success-icon {
            font-size: 4em;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .success-message {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .command-box {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.9em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        
        .command-box code {
            color: var(--accent-green);
        }
        
        .btn-copy {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
        }
        
        .btn-copy:hover {
            background: var(--border-color);
            color: var(--text-primary);
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: var(--text-secondary);
            font-size: 0.9em;
        }
        
        footer a {
            color: var(--accent-purple);
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="logo">ü¶ã ButterflyFX</a>
            <h1>Download Wizard</h1>
            <p class="subtitle">Get started with dimensional computing</p>
        </header>
        
        <div class="wizard">
            <!-- Progress Steps -->
            <div class="wizard-progress">
                <div class="step-indicator active" data-step="1">
                    <span class="step-num">1</span>
                    <span class="step-label">Select Package</span>
                </div>
                <div class="step-line"></div>
                <div class="step-indicator" data-step="2">
                    <span class="step-num">2</span>
                    <span class="step-label">Terms of Service</span>
                </div>
                <div class="step-line"></div>
                <div class="step-indicator" data-step="3">
                    <span class="step-num">3</span>
                    <span class="step-label">Download</span>
                </div>
            </div>
            
            <!-- Step 1: Select Package -->
            <div class="wizard-content">
                <div class="wizard-step active" data-step="1">
                    <h2>Select Your Package</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Choose the package format that best fits your development environment.
                    </p>
                    
                    <div class="package-grid">
                        <label class="package-option selected">
                            <input type="radio" name="package" value="python" checked>
                            <div class="package-icon">üêç</div>
                            <div class="package-name">Python Package</div>
                            <div class="package-desc">pip install butterflyfx</div>
                            <div class="package-version">v0.1.0-alpha</div>
                        </label>
                        
                        <label class="package-option">
                            <input type="radio" name="package" value="nodejs">
                            <div class="package-icon">üì¶</div>
                            <div class="package-name">Node.js Package</div>
                            <div class="package-desc">npm install butterflyfx</div>
                            <div class="package-version">v0.1.0-alpha</div>
                        </label>
                        
                        <label class="package-option">
                            <input type="radio" name="package" value="source">
                            <div class="package-icon">üìÑ</div>
                            <div class="package-name">Source Tarball</div>
                            <div class="package-desc">butterflyfx-0.1.0.tar.gz</div>
                            <div class="package-version">14.2 MB</div>
                        </label>
                        
                        <label class="package-option">
                            <input type="radio" name="package" value="docker">
                            <div class="package-icon">üê≥</div>
                            <div class="package-name">Docker Image</div>
                            <div class="package-desc">docker pull butterflyfx</div>
                            <div class="package-version">Latest</div>
                        </label>
                    </div>
                </div>
                
                <!-- Step 2: Terms of Service -->
                <div class="wizard-step" data-step="2">
                    <h2>Terms of Service</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Please read and accept our terms before downloading.
                    </p>
                    
                    <div class="tos-container">
                        <h3>ButterflyFX Terms of Service</h3>
                        <p><strong>Effective Date:</strong> January 1, 2026</p>
                        <p><strong>Version:</strong> 1.0</p>
                        
                        <h3>1. Acceptance of Terms</h3>
                        <p>
                            By downloading, installing, or using ButterflyFX ("Software"), you agree to be bound 
                            by these Terms of Service ("Terms"). If you do not agree to these Terms, do not 
                            download or use the Software.
                        </p>
                        
                        <h3>2. License Grant</h3>
                        <p>
                            Subject to these Terms, ButterflyFX grants you a limited, non-exclusive, 
                            non-transferable license to:
                        </p>
                        <ul>
                            <li>Download and install the Software for personal or commercial use</li>
                            <li>Use the Software to develop applications</li>
                            <li>Distribute applications built with the Software</li>
                        </ul>
                        
                        <h3>3. Dual License Model</h3>
                        <p>ButterflyFX uses a dual license model:</p>
                        <ul>
                            <li><strong>Mathematical Kernel (/helix/):</strong> Licensed under CC BY 4.0. 
                                Free for all humanity with attribution to Kenneth Bingham required.</li>
                            <li><strong>Applications & Tools:</strong> Proprietary license. 
                                Permission required for commercial redistribution.</li>
                        </ul>
                        
                        <h3>4. Restrictions</h3>
                        <p>You may NOT:</p>
                        <ul>
                            <li>Remove or alter copyright notices</li>
                            <li>Claim ownership of the ButterflyFX framework</li>
                            <li>Use ButterflyFX trademarks without permission</li>
                            <li>Redistribute modified versions as "ButterflyFX"</li>
                        </ul>
                        
                        <h3>5. Attribution Requirements</h3>
                        <p>
                            When using the mathematical kernel, you must include the following attribution:
                        </p>
                        <p style="padding: 10px; background: rgba(0,0,0,0.3); border-radius: 5px; font-family: monospace;">
                            "Built with ButterflyFX Dimensional Computing<br>
                            Mathematical Kernel ¬© Kenneth Bingham, CC BY 4.0"
                        </p>
                        
                        <h3>6. Disclaimer of Warranties</h3>
                        <p>
                            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
                            INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
                            PARTICULAR PURPOSE AND NONINFRINGEMENT.
                        </p>
                        
                        <h3>7. Limitation of Liability</h3>
                        <p>
                            IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES 
                            OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
                            OUT OF OR IN CONNECTION WITH THE SOFTWARE.
                        </p>
                        
                        <h3>8. Governing Law</h3>
                        <p>
                            These Terms shall be governed by the laws of the United States of America.
                        </p>
                        
                        <h3>9. Contact</h3>
                        <p>
                            For licensing questions, contact: kenetics.art@gmail.com
                        </p>
                    </div>
                    
                    <div class="tos-accept">
                        <input type="checkbox" id="accept-tos">
                        <label for="accept-tos">
                            I have read and agree to the <strong>Terms of Service</strong> and 
                            <strong>Privacy Policy</strong>
                        </label>
                    </div>
                </div>
                
                <!-- Step 3: Download -->
                <div class="wizard-step" data-step="3">
                    <h2>Download Your Package</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Your package is ready! Choose your preferred download method.
                    </p>
                    
                    <div class="download-options" id="download-options">
                        <!-- Populated by JS based on selection -->
                    </div>
                    
                    <div class="success-icon">‚úÖ</div>
                    <p class="success-message">
                        Thank you for downloading ButterflyFX!<br>
                        Check out our <a href="developer.html" style="color: var(--accent-purple);">Developer Documentation</a> to get started.
                    </p>
                    
                    <div id="install-commands">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <div class="wizard-nav">
                <button class="btn btn-secondary" id="btn-prev" disabled>‚Üê Back</button>
                <button class="btn btn-primary" id="btn-next">Next ‚Üí</button>
            </div>
        </div>
        
        <footer>
            <p>
                <a href="index.html">Home</a> ¬∑ 
                <a href="apps.html">Apps</a> ¬∑ 
                <a href="developer.html">Developer</a> ¬∑ 
                <a href="about.html">About</a>
            </p>
        </footer>
    </div>
    
    <script>
        // Wizard State
        let currentStep = 1;
        const totalSteps = 3;
        let selectedPackage = 'python';
        let tosAccepted = false;
        
        const packageData = {
            python: {
                name: 'Python Package',
                icon: 'üêç',
                downloads: [
                    { name: 'pip install', meta: 'Recommended', command: 'pip install butterflyfx' },
                    { name: 'pip (specific version)', meta: 'v0.1.0-alpha', command: 'pip install butterflyfx==0.1.0a1' }
                ]
            },
            nodejs: {
                name: 'Node.js Package',
                icon: 'üì¶',
                downloads: [
                    { name: 'npm install', meta: 'Recommended', command: 'npm install butterflyfx' },
                    { name: 'yarn add', meta: 'Alternative', command: 'yarn add butterflyfx' }
                ]
            },
            source: {
                name: 'Source Code',
                icon: 'üìÑ',
                downloads: [
                    { name: 'butterflyfx-0.1.0.tar.gz', meta: '14.2 MB', url: '#', file: true },
                    { name: 'butterflyfx-0.1.0.zip', meta: '15.8 MB', url: '#', file: true },
                    { name: 'Git Clone', meta: 'Latest', command: 'git clone https://github.com/kenbin64/butterflyfxpython.git' }
                ]
            },
            docker: {
                name: 'Docker Image',
                icon: 'üê≥',
                downloads: [
                    { name: 'Docker Pull', meta: 'Latest', command: 'docker pull butterflyfx/butterflyfx:latest' },
                    { name: 'Docker Run', meta: 'Quick Start', command: 'docker run -it butterflyfx/butterflyfx' }
                ]
            }
        };
        
        // DOM Elements
        const steps = document.querySelectorAll('.wizard-step');
        const indicators = document.querySelectorAll('.step-indicator');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const tosCheckbox = document.getElementById('accept-tos');
        const packageOptions = document.querySelectorAll('.package-option');
        
        // Package Selection
        packageOptions.forEach(opt => {
            opt.addEventListener('click', () => {
                packageOptions.forEach(p => p.classList.remove('selected'));
                opt.classList.add('selected');
                selectedPackage = opt.querySelector('input').value;
            });
        });
        
        // ToS Checkbox
        tosCheckbox.addEventListener('change', () => {
            tosAccepted = tosCheckbox.checked;
            updateButtons();
        });
        
        // Navigation
        btnNext.addEventListener('click', () => {
            if (currentStep < totalSteps) {
                if (currentStep === 2 && !tosAccepted) {
                    alert('Please accept the Terms of Service to continue.');
                    return;
                }
                setStep(currentStep + 1);
            }
        });
        
        btnPrev.addEventListener('click', () => {
            if (currentStep > 1) {
                setStep(currentStep - 1);
            }
        });
        
        function setStep(step) {
            currentStep = step;
            
            // Update step visibility
            steps.forEach(s => s.classList.remove('active'));
            document.querySelector(`.wizard-step[data-step="${step}"]`).classList.add('active');
            
            // Update indicators
            indicators.forEach((ind, i) => {
                ind.classList.remove('active', 'completed');
                if (i + 1 < step) ind.classList.add('completed');
                if (i + 1 === step) ind.classList.add('active');
            });
            
            // Populate download options on final step
            if (step === 3) {
                populateDownloads();
            }
            
            updateButtons();
        }
        
        function updateButtons() {
            btnPrev.disabled = currentStep === 1;
            
            if (currentStep === 2) {
                btnNext.disabled = !tosAccepted;
            } else if (currentStep === 3) {
                btnNext.style.display = 'none';
            } else {
                btnNext.disabled = false;
                btnNext.style.display = '';
            }
            
            btnNext.textContent = currentStep === totalSteps - 1 ? 'Download' : 'Next ‚Üí';
        }
        
        function populateDownloads() {
            const pkg = packageData[selectedPackage];
            const container = document.getElementById('download-options');
            const commands = document.getElementById('install-commands');
            
            container.innerHTML = pkg.downloads.map((dl, i) => {
                if (dl.file) {
                    return `
                        <div class="download-row">
                            <div class="download-info">
                                <span class="download-icon">${pkg.icon}</span>
                                <div>
                                    <div class="download-name">${dl.name}</div>
                                    <div class="download-meta">${dl.meta}</div>
                                </div>
                            </div>
                            <a href="${dl.url}" class="btn-download">‚¨áÔ∏è Download</a>
                        </div>
                    `;
                }
                return '';
            }).join('');
            
            commands.innerHTML = `
                <h3 style="margin: 30px 0 15px; color: var(--text-secondary);">Quick Install Commands</h3>
                ${pkg.downloads.filter(dl => dl.command).map(dl => `
                    <div class="command-box">
                        <code>${dl.command}</code>
                        <button class="btn-copy" onclick="copyCommand('${dl.command}')">Copy</button>
                    </div>
                `).join('')}
            `;
        }
        
        function copyCommand(cmd) {
            navigator.clipboard.writeText(cmd).then(() => {
                const btn = event.target;
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = 'Copy', 2000);
            });
        }
        
        // Initialize
        updateButtons();
    </script>
</body>
</html>

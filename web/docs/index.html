<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ButterflyFX Developer Documentation</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-dark: #050510;
            --bg-card: rgba(20, 30, 50, 0.8);
            --accent-blue: #60b0ff;
            --accent-pink: #ff6090;
            --accent-green: #80ff80;
            --accent-gold: #ffd700;
            --text-primary: #fff;
            --text-secondary: #b0c0e0;
            --border-color: rgba(100, 150, 255, 0.2);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark), #0a1020);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: rgba(10, 15, 25, 0.95);
            border-right: 1px solid var(--border-color);
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            overflow-y: auto;
            padding: 20px 0;
            z-index: 100;
        }
        
        .sidebar-logo {
            padding: 0 20px 20px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .sidebar-logo a {
            font-size: 1.3em;
            font-weight: 700;
            background: linear-gradient(135deg, #4060ff, #ff4080);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
        }
        
        .sidebar-section {
            padding: 15px 20px 5px;
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666;
        }
        
        .sidebar-link {
            display: block;
            padding: 10px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        
        .sidebar-link:hover {
            background: rgba(100, 150, 255, 0.1);
            color: var(--accent-blue);
        }
        
        .sidebar-link.active {
            background: rgba(100, 150, 255, 0.15);
            color: var(--accent-blue);
            border-left-color: var(--accent-blue);
        }
        
        .sidebar-link.sub {
            padding-left: 35px;
            font-size: 0.85em;
        }
        
        /* Main Content */
        .main {
            margin-left: 280px;
            flex: 1;
            padding: 40px 60px;
            max-width: 900px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #4060ff, #ff4080);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.1em;
            color: var(--accent-blue);
            margin-bottom: 40px;
        }
        
        h2 {
            font-size: 1.8em;
            color: var(--accent-pink);
            margin: 50px 0 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        h3 {
            font-size: 1.3em;
            color: var(--accent-blue);
            margin: 30px 0 15px;
        }
        
        h4 {
            font-size: 1.1em;
            color: var(--accent-gold);
            margin: 20px 0 10px;
        }
        
        p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 15px;
        }
        
        code {
            background: rgba(100, 150, 255, 0.15);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Fira Code', monospace;
            font-size: 0.9em;
            color: var(--accent-green);
        }
        
        pre {
            background: rgba(10, 15, 30, 0.95);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 15px 0 25px;
        }
        
        pre code {
            background: none;
            padding: 0;
            font-size: 0.85em;
            line-height: 1.6;
        }
        
        .comment { color: #666; }
        .keyword { color: #ff80a0; }
        .string { color: #80ff80; }
        .function { color: #60b0ff; }
        .type { color: #ffd700; }
        
        ul, ol {
            margin: 15px 0 15px 25px;
            color: var(--text-secondary);
        }
        
        li {
            margin: 8px 0;
            line-height: 1.6;
        }
        
        .info-box {
            background: rgba(100, 150, 255, 0.15);
            border: 1px solid rgba(100, 150, 255, 0.4);
            border-radius: 8px;
            padding: 15px 20px;
            margin: 20px 0;
            color: #80c0ff;
        }
        
        .warning-box {
            background: rgba(255, 200, 50, 0.15);
            border: 1px solid rgba(255, 200, 50, 0.4);
            border-radius: 8px;
            padding: 15px 20px;
            margin: 20px 0;
            color: #ffd060;
        }
        
        .principle-box {
            background: linear-gradient(135deg, rgba(64, 96, 255, 0.15), rgba(255, 64, 128, 0.1));
            border: 2px solid rgba(100, 150, 255, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .principle-box h4 {
            color: #fff;
            margin-top: 0;
        }
        
        .api-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .api-table th, .api-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .api-table th {
            background: rgba(64, 96, 255, 0.2);
            color: var(--accent-blue);
            font-weight: 600;
        }
        
        .api-table td {
            color: var(--text-secondary);
        }
        
        .level-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin: 2px;
        }
        
        .level-0 { background: #333; color: #888; }
        .level-1 { background: #ff0080; }
        .level-2 { background: #ff8040; }
        .level-3 { background: #ffff00; color: #333; }
        .level-4 { background: #40ff40; color: #333; }
        .level-5 { background: #40a0ff; }
        .level-6 { background: #a040ff; }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-bad {
            border: 1px solid #ff4060;
            border-radius: 8px;
            padding: 15px;
        }
        
        .comparison-bad h5 {
            color: #ff4060;
            margin-bottom: 10px;
        }
        
        .comparison-good {
            border: 1px solid #40ff80;
            border-radius: 8px;
            padding: 15px;
        }
        
        .comparison-good h5 {
            color: #40ff80;
            margin-bottom: 10px;
        }
        
        .copy-btn {
            float: right;
            padding: 5px 12px;
            background: rgba(100, 150, 255, 0.3);
            border: none;
            border-radius: 4px;
            color: #80c0ff;
            cursor: pointer;
            font-size: 0.8em;
        }
        
        .copy-btn:hover {
            background: rgba(100, 150, 255, 0.5);
        }
        
        @media (max-width: 900px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            .main {
                margin-left: 0;
                padding: 20px;
            }
            .comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-logo">
            <a href="../index.html">ü¶ã ButterflyFX</a>
        </div>
        
        <div class="sidebar-section">Getting Started</div>
        <a href="#quickstart" class="sidebar-link active">Quickstart</a>
        <a href="#hello-world" class="sidebar-link sub">Hello World</a>
        <a href="#installation" class="sidebar-link sub">Installation</a>
        
        <div class="sidebar-section">Core Concepts</div>
        <a href="#kernel" class="sidebar-link">The Helix Kernel</a>
        <a href="#levels" class="sidebar-link sub">7 Dimensional Levels</a>
        <a href="#operators" class="sidebar-link sub">Kernel Operators</a>
        <a href="#substrate" class="sidebar-link">Substrates & Tokens</a>
        <a href="#srl" class="sidebar-link">SRL Connections</a>
        
        <div class="sidebar-section">API Reference</div>
        <a href="#api-kernel" class="sidebar-link">HelixKernel</a>
        <a href="#api-substrate" class="sidebar-link">Substrate</a>
        <a href="#api-token" class="sidebar-link">Token</a>
        <a href="#api-srl" class="sidebar-link">SecureResourceLocator</a>
        <a href="#api-primitives" class="sidebar-link">Primitives</a>
        
        <div class="sidebar-section">Patterns</div>
        <a href="#dimensions" class="sidebar-link">Building Dimensions</a>
        <a href="#no-iteration" class="sidebar-link">No Iteration Patterns</a>
        <a href="#recursion" class="sidebar-link">Recursion over Loops</a>
        <a href="#drill-down" class="sidebar-link">Dimensional Drill-Down</a>
        
        <div class="sidebar-section">Examples</div>
        <a href="#examples" class="sidebar-link">Code Examples</a>
        <a href="../demos/retro_simulator.html" class="sidebar-link">Live Demos</a>
    </nav>
    
    <main class="main">
        <!-- ========================================== -->
        <!-- QUICKSTART SECTION -->
        <!-- ========================================== -->
        <section id="quickstart">
            <h1>ü¶ã ButterflyFX Developer Docs</h1>
            <p class="subtitle">Dimensional Computing SDK ‚Äî Build without iteration</p>
            
            <div class="principle-box">
                <h4>üéØ The Core Principle</h4>
                <p style="color: #fff; margin-bottom: 0;">
                    In dimensional computing, <strong>objects already contain all their parts</strong>. 
                    You don't construct them ‚Äî you <em>invoke</em> them through dimensional levels.
                    <strong>Never iterate. Never loop. Drill down dimensions.</strong>
                </p>
            </div>
        </section>
        
        <!-- HELLO WORLD -->
        <section id="hello-world">
            <h2>Hello World ‚Äî Human-First API</h2>
            
            <p>Get started with intuitive syntax that speaks your intentions:</p>
            
            <h3>Python ‚Äî The Human Way</h3>
<pre><code><span class="comment"># hello_butterflyfx.py ‚Äî Human-First Syntax, Real Geometry</span>

<span class="keyword">from</span> helix <span class="keyword">import</span> space

<span class="comment"># 1. Create a canvas (backed by z=xy manifold)</span>
canvas = space(<span class="string">"MyApp"</span>, 800, 600)

<span class="comment"># 2. Build with semantic vocabulary ‚Äî say WHAT, not WHERE</span>
title = canvas.text(<span class="string">"Hello Dimensional World"</span>).place(<span class="string">"top"</span>).done()
card = canvas.shape(<span class="string">"rectangle"</span>).size(<span class="string">"medium"</span>).place(<span class="string">"center"</span>).done()
badge = canvas.shape(<span class="string">"circle"</span>).size(<span class="string">"small"</span>).attachTo(card, <span class="string">"bottom-right-inside"</span>).done()

<span class="comment"># 3. Properties are DERIVED from position (not stored)</span>
<span class="keyword">print</span>(card.z)          <span class="comment"># computed from position on manifold</span>
<span class="keyword">print</span>(card.slope)      <span class="comment"># derivative at position</span>
<span class="keyword">print</span>(card.curvature)  <span class="comment"># curvature from geometry</span>

<span class="comment"># 4. Use semantic orientations</span>
landscape_box = canvas.shape(<span class="string">"rectangle"</span>).orient(<span class="string">"landscape"</span>).place(<span class="string">"bottom"</span>).done()

<span class="comment"># 5. Lines speak relationships</span>
connector = canvas.line().fromPoint(<span class="string">"center"</span>).toPoint(<span class="string">"top-right"</span>).done()

<span class="keyword">print</span>(<span class="string">"Hello, Dimensional World!"</span>)
</code></pre>
            
            <h3>Semantic Vocabulary</h3>
            <div class="info-box">
                <strong>Positions:</strong> "center", "top", "bottom", "left", "right", "top-left", "bottom-right", etc.<br>
                <strong>Orientations:</strong> "landscape", "portrait", "diagonal", "facing-up", "facing-right"<br>
                <strong>Sizes:</strong> "tiny", "small", "medium", "large", "huge", "full"<br>
                <strong>Relations:</strong> "above", "below", "top-inside", "bottom-right-outside"
            </div>

            <div class="info-box">
                <strong>üí° Key Insight:</strong> We do NOT store what the substrate gives us inherently. 
                When you say <code>.place("center")</code>, coordinates are computed for the manifold.
                Slope, curvature, angle are all DERIVED from position.
                <strong>The manifold IS the computation.</strong>
            </div>

            <h3>Classic API (Backward Compatible)</h3>
            <p>For coordinate-based access:</p>
<pre><code><span class="keyword">from</span> helix <span class="keyword">import</span> create, relate, manifest, meaning

car = create(<span class="string">"Car"</span>, x=2.0, y=3.0, color=<span class="string">"red"</span>)
<span class="keyword">print</span>(car.z)  <span class="comment"># 6.0 (derived: 2.0 * 3.0)</span>

engine = create(<span class="string">"V8"</span>, x=1.5, y=2.0)
relate(car, <span class="string">"has"</span>, engine)

data = manifest(car)
<span class="keyword">print</span>(meaning(car))  <span class="comment"># "positive:entity:Car"</span>
</code></pre>
        </section>
        
        <!-- INSTALLATION -->
        <section id="installation">
            <h2>Installation</h2>
            
            <h3>From PyPI (recommended)</h3>
<pre><code>pip install butterflyfx</code></pre>
            
            <h3>From Source</h3>
<pre><code>git clone https://github.com/butterflyfx/dimensionsos.git
cd dimensionsos
pip install -r requirements.txt

<span class="comment"># Verify installation</span>
python -c "from helix import create; print('‚úì ButterflyFX ready')"</code></pre>
            
            <h3>Developer-Friendly API (Recommended)</h3>
<pre><code><span class="comment"># Familiar syntax that preserves real geometry</span>
<span class="keyword">from</span> helix <span class="keyword">import</span> (
    create, relate, manifest, meaning,  <span class="comment"># Core functions</span>
    find, find_all,                     <span class="comment"># Lookup (O(1) by identity)</span>
    Entity,                             <span class="comment"># Fluent builder</span>
)

<span class="comment"># Example</span>
car = create(<span class="string">"Car"</span>, x=2.0, y=3.0, color=<span class="string">"red"</span>)
print(car.z)      <span class="comment"># 6.0 (derived)</span>
print(car.slope)  <span class="comment"># 3.0 (derived)</span></code></pre>
            
            <h3>Direct Substrate API (Advanced)</h3>
<pre><code><span class="comment"># For lower-level control</span>
<span class="keyword">from</span> helix.dimensional_api <span class="keyword">import</span> (
    Substrate2D, Substrate3D,  <span class="comment"># Substrates (z=xy, m=xyz)</span>
    invoke, ingest,            <span class="comment"># Operations</span>
)
<span class="keyword">from</span> helix.geometric_substrate <span class="keyword">import</span> (
    GeometricSubstrate, Shape, <span class="comment"># Shapes hold data</span>
    Lens, Point,               <span class="comment"># Interpretation</span>
)</code></pre>
            
            <h3>Kernel-Level Access (Optional)</h3>
<pre><code><span class="comment"># For advanced users who need kernel-level access</span>
<span class="keyword">from</span> helix <span class="keyword">import</span> (
    HelixKernel, HelixState, LEVEL_NAMES, LEVEL_ICONS,
    ManifoldSubstrate, Token, PayloadSource,
)

<span class="comment"># With primitives</span>
<span class="keyword">from</span> helix <span class="keyword">import</span> (
    Scalar, Vector2D, Vector3D, Matrix4x4,
    RGB, RGBA, Frequency, Duration, TimePoint,
)</code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- KERNEL SECTION (ADVANCED) -->
        <!-- ========================================== -->
        <section id="kernel">
            <h2>üîß Advanced: The Helix Kernel</h2>
            
            <div class="warning-box" style="background: rgba(255, 200, 100, 0.15); border-left: 4px solid #ffc080; padding: 15px 20px; margin: 15px 0; border-radius: 0 8px 8px 0;">
                <strong>Note:</strong> Most developers should use the <a href="#hello-world" style="color: #60b0ff;">Simple API</a> above. 
                The Helix Kernel is the internal engine that powers everything ‚Äî you only need it for 
                advanced use cases like building custom substrates or extending the framework.
            </div>
            
            <p>The Helix Kernel is a <strong>formal state machine</strong> that navigates dimensional levels without iteration.</p>
            
            <h3>State Space</h3>
            <p>The kernel maintains state as a coordinate pair:</p>
<pre><code>H = {(s, ‚Ñì) | s ‚àà ‚Ñ§, ‚Ñì ‚àà {0,1,2,3,4,5,6}}</code></pre>
            
            <ul>
                <li><code>s</code> ‚Äî <strong>Spiral</strong>: Which turn of the helix (unbounded integer)</li>
                <li><code>‚Ñì</code> ‚Äî <strong>Level</strong>: Dimensional layer (0-6)</li>
            </ul>
            
            <div class="info-box">
                <strong>üí° Key Insight:</strong> The kernel is like DNA ‚Äî a double helix where each spiral contains 7 levels. 
                You can move up levels, spiral to the next turn, or collapse back to potential.
            </div>
        </section>
        
        <!-- LEVELS -->
        <section id="levels">
            <h3>The 7 Dimensional Levels</h3>
            
            <div style="margin: 20px 0;">
                <span class="level-badge level-0">0: Potential</span>
                <span class="level-badge level-1">1: Point</span>
                <span class="level-badge level-2">2: Length</span>
                <span class="level-badge level-3">3: Width</span>
                <span class="level-badge level-4">4: Plane</span>
                <span class="level-badge level-5">5: Volume</span>
                <span class="level-badge level-6">6: Whole</span>
            </div>
            
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Level</th>
                        <th>Name</th>
                        <th>Icon</th>
                        <th>What Emerges</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>0</td><td>Potential</td><td>‚óã</td><td>Void ‚Äî undifferentiated possibility</td></tr>
                    <tr><td>1</td><td>Point</td><td>‚Ä¢</td><td>Identity ‚Äî the entity exists, has a name</td></tr>
                    <tr><td>2</td><td>Length</td><td>‚îÅ</td><td>Properties ‚Äî attributes with values</td></tr>
                    <tr><td>3</td><td>Width</td><td>‚ñ≠</td><td>Relations ‚Äî connections to other entities</td></tr>
                    <tr><td>4</td><td>Plane</td><td>‚ñ¶</td><td>Context ‚Äî full 2D state, environment</td></tr>
                    <tr><td>5</td><td>Volume</td><td>‚ñ£</td><td>Depth ‚Äî internals, sub-components</td></tr>
                    <tr><td>6</td><td>Whole</td><td>‚óâ</td><td>Complete ‚Äî ready for next spiral</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- OPERATORS -->
        <section id="operators">
            <h3>Kernel Operators</h3>
            
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Signature</th>
                        <th>Precondition</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>INVOKE(k)</code></td>
                        <td>(s, ‚Ñì) ‚Üí (s, k)</td>
                        <td>0 ‚â§ k ‚â§ 6</td>
                        <td>Jump directly to level k ‚Äî O(1)</td>
                    </tr>
                    <tr>
                        <td><code>SPIRAL_UP</code></td>
                        <td>(s, 6) ‚Üí (s+1, 0)</td>
                        <td>‚Ñì = 6</td>
                        <td>Advance to next spiral turn</td>
                    </tr>
                    <tr>
                        <td><code>SPIRAL_DOWN</code></td>
                        <td>(s, 0) ‚Üí (s-1, 6)</td>
                        <td>‚Ñì = 0</td>
                        <td>Return to previous spiral</td>
                    </tr>
                    <tr>
                        <td><code>COLLAPSE</code></td>
                        <td>(s, ‚Ñì) ‚Üí (s, 0)</td>
                        <td>none</td>
                        <td>Reset to potential (idempotent)</td>
                    </tr>
                </tbody>
            </table>
            
<pre><code><span class="comment"># Operator usage</span>
kernel = HelixKernel()

<span class="comment"># INVOKE ‚Äî jump to any level (O(1), no iteration)</span>
kernel.invoke(3)       <span class="comment"># (0,0) ‚Üí (0,3)</span>
kernel.invoke(6)       <span class="comment"># (0,3) ‚Üí (0,6)</span>

<span class="comment"># SPIRAL_UP ‚Äî must be at level 6</span>
kernel.spiral_up()     <span class="comment"># (0,6) ‚Üí (1,0)</span>

<span class="comment"># SPIRAL_DOWN ‚Äî must be at level 0</span>
kernel.spiral_down()   <span class="comment"># (1,0) ‚Üí (0,6)</span>

<span class="comment"># COLLAPSE ‚Äî always valid, idempotent</span>
kernel.collapse()      <span class="comment"># (0,6) ‚Üí (0,0)</span>
kernel.collapse()      <span class="comment"># (0,0) ‚Üí (0,0) ‚Äî safe to call repeatedly</span></code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- SUBSTRATE SECTION -->
        <!-- ========================================== -->
        <section id="substrate">
            <h2>Substrates & Tokens</h2>
            
            <p>A <strong>Substrate</strong> is a domain-specific data structure. A <strong>Token</strong> is an entity within a substrate.</p>
            
            <h3>Creating a Custom Substrate</h3>
<pre><code><span class="keyword">from</span> helix <span class="keyword">import</span> Substrate, Token

<span class="keyword">class</span> <span class="type">CarSubstrate</span>(Substrate):
    <span class="string">"""A substrate representing vehicles"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        super().__init__(<span class="string">"car"</span>)
        self._tokens = {}
    
    @property
    <span class="keyword">def</span> <span class="function">domain</span>(self) -> str:
        <span class="keyword">return</span> <span class="string">"vehicle.car"</span>
    
    <span class="keyword">def</span> <span class="function">add_car</span>(self, car_id: str, **attributes):
        <span class="string">"""Add a car token with attributes that emerge at different levels"""</span>
        self._tokens[car_id] = {
            <span class="string">"id"</span>: car_id,                      <span class="comment"># Level 1: Identity</span>
            <span class="string">"attributes"</span>: attributes,          <span class="comment"># Level 2: Properties</span>
            <span class="string">"relations"</span>: [],                   <span class="comment"># Level 3: Relations</span>
            <span class="string">"context"</span>: {},                     <span class="comment"># Level 4: Context</span>
            <span class="string">"internals"</span>: {                     <span class="comment"># Level 5: Depth</span>
                <span class="string">"engine"</span>: {<span class="string">"pistons"</span>: 4, <span class="string">"fuel"</span>: 100},
                <span class="string">"wheels"</span>: [{<span class="string">"pressure"</span>: 32} <span class="keyword">for</span> _ <span class="keyword">in</span> range(4)]
            }
        }
        <span class="keyword">return</span> self._tokens[car_id]
    
    <span class="keyword">def</span> <span class="function">tokens_for_state</span>(self, spiral: int, level: int):
        <span class="string">"""Materialize tokens at this helix state (Œº function)"""</span>
        <span class="keyword">return</span> {
            Token(
                name=car_id,
                level=level,
                payload=self._materialize_at_level(data, level)
            )
            <span class="keyword">for</span> car_id, data <span class="keyword">in</span> self._tokens.items()
        }
    
    <span class="keyword">def</span> <span class="function">_materialize_at_level</span>(self, data, level):
        <span class="string">"""Return only what's visible at this dimensional level"""</span>
        <span class="keyword">if</span> level == 0: <span class="keyword">return</span> None                    <span class="comment"># Potential</span>
        <span class="keyword">if</span> level == 1: <span class="keyword">return</span> {<span class="string">"id"</span>: data[<span class="string">"id"</span>]}       <span class="comment"># Point</span>
        <span class="keyword">if</span> level == 2: <span class="keyword">return</span> {**data[<span class="string">"attributes"</span>]}   <span class="comment"># Length</span>
        <span class="keyword">if</span> level >= 5: <span class="keyword">return</span> data                     <span class="comment"># Full depth</span>
        <span class="keyword">return</span> {k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> data.items() <span class="keyword">if</span> k != <span class="string">"internals"</span>}
    
    <span class="keyword">def</span> <span class="function">release_materialized</span>(self, spiral: int):
        <span class="string">"""Release tokens (optional cleanup)"""</span>
        <span class="keyword">pass</span>

<span class="comment"># Usage</span>
substrate = CarSubstrate()
substrate.add_car(<span class="string">"tesla_001"</span>, make=<span class="string">"Tesla"</span>, model=<span class="string">"Model S"</span>, speed=0)

kernel = HelixKernel()
kernel.set_substrate(substrate)

<span class="comment"># Level 1: Only identity visible</span>
tokens = kernel.invoke(1)
<span class="comment"># ‚Üí Token(tesla_001, {"id": "tesla_001"})</span>

<span class="comment"># Level 5: Full internals visible</span>
tokens = kernel.invoke(5)
<span class="comment"># ‚Üí Token(tesla_001, {id, attributes, relations, context, internals})</span></code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- SRL SECTION -->
        <!-- ========================================== -->
        <section id="srl">
            <h2>SRL ‚Äî Substrate Resource Locators</h2>
            
            <p>An SRL is the <strong>universal address system</strong> for connecting to any data source. 
            Think of it as a "library card catalog" that provides O(1) lookup for anything.</p>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Never use:</strong> Raw URLs, connection strings, or credentials in code.
                Always use SRLs to abstract data sources.
            </div>
            
            <h3>SRL Address Format</h3>
<pre><code>srl://domain/substrate/resource

<span class="comment"># Examples:</span>
srl://graphics.color/palette/sunset
srl://vehicle.car/fleet/tesla_001
srl://audio.music/library/track_42
srl://database.postgres/users/profile</code></pre>
            
            <h3>Creating SRL Connections</h3>
<pre><code><span class="keyword">from</span> helix <span class="keyword">import</span> SecureResourceLocator, srl, invoke

<span class="comment"># Get the global SRL registry</span>
SRL = SecureResourceLocator()

<span class="comment"># Register a substrate</span>
<span class="keyword">class</span> <span class="type">DatabaseSubstrate</span>(Substrate):
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        super().__init__(<span class="string">"users"</span>)
        self.domain = <span class="string">"database.postgres"</span>
        
        <span class="comment"># Register primitives</span>
        self.register_primitive(<span class="string">"count"</span>, 1000)
        self.register_primitive(<span class="string">"schema"</span>, {<span class="string">"id"</span>: <span class="string">"int"</span>, <span class="string">"name"</span>: <span class="string">"str"</span>})
        
        <span class="comment"># Register operations</span>
        self.register_operation(<span class="string">"find"</span>, self._find_user)
        self.register_operation(<span class="string">"create"</span>, self._create_user)
    
    <span class="keyword">def</span> <span class="function">_find_user</span>(self, user_id):
        <span class="keyword">return</span> {<span class="string">"id"</span>: user_id, <span class="string">"name"</span>: f<span class="string">"User {user_id}"</span>}
    
    <span class="keyword">def</span> <span class="function">_create_user</span>(self, name):
        <span class="keyword">return</span> {<span class="string">"id"</span>: 1001, <span class="string">"name"</span>: name}

<span class="comment"># Register with global SRL</span>
db = DatabaseSubstrate()
address = SRL.register(db)
<span class="keyword">print</span>(address)  <span class="comment"># ‚Üí "srl://database.postgres/users"</span>

<span class="comment"># O(1) lookup by address</span>
count = srl(<span class="string">"srl://database.postgres/users/count"</span>)
<span class="keyword">print</span>(count)  <span class="comment"># ‚Üí 1000</span>

<span class="comment"># O(1) invoke operation</span>
user = invoke(<span class="string">"srl://database.postgres/users/find"</span>, 42)
<span class="keyword">print</span>(user)  <span class="comment"># ‚Üí {"id": 42, "name": "User 42"}</span></code></pre>
            
            <h3>Connecting External Sources</h3>
<pre><code><span class="keyword">class</span> <span class="type">APISubstrate</span>(Substrate):
    <span class="string">"""Connect to an external REST API via SRL"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, api_name: str, base_url: str):
        super().__init__(api_name)
        self.domain = <span class="string">"api.rest"</span>
        self._base_url = base_url  <span class="comment"># Hidden from consumers</span>
        
        <span class="comment"># Register lazy fetchers (not called until invoked)</span>
        self.register_operation(<span class="string">"get"</span>, self._fetch)
        self.register_operation(<span class="string">"post"</span>, self._send)
    
    <span class="keyword">def</span> <span class="function">_fetch</span>(self, endpoint: str):
        <span class="comment"># Actual HTTP call happens HERE, not at registration</span>
        <span class="keyword">import</span> requests
        <span class="keyword">return</span> requests.get(f<span class="string">"{self._base_url}/{endpoint}"</span>).json()
    
    <span class="keyword">def</span> <span class="function">_send</span>(self, endpoint: str, data: dict):
        <span class="keyword">import</span> requests
        <span class="keyword">return</span> requests.post(f<span class="string">"{self._base_url}/{endpoint}"</span>, json=data).json()

<span class="comment"># Register API connection</span>
weather = APISubstrate(<span class="string">"weather"</span>, <span class="string">"https://api.weather.service/v1"</span>)
SRL.register(weather)

<span class="comment"># Consumer code never sees URLs</span>
forecast = invoke(<span class="string">"srl://api.rest/weather/get"</span>, <span class="string">"forecast/today"</span>)</code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- API REFERENCE -->
        <!-- ========================================== -->
        <section id="api-kernel">
            <h2>API Reference ‚Äî HelixKernel</h2>
            
            <h3>Class: <code>HelixKernel</code></h3>
            <p>The core state machine for dimensional navigation.</p>
            
            <h4>Constructor</h4>
<pre><code>HelixKernel(substrate: SubstrateProtocol | None = None)</code></pre>
            
            <h4>Properties</h4>
            <table class="api-table">
                <tr><td><code>.state</code></td><td><code>HelixState</code></td><td>Current (spiral, level) state</td></tr>
                <tr><td><code>.spiral</code></td><td><code>int</code></td><td>Current spiral number</td></tr>
                <tr><td><code>.level</code></td><td><code>int</code></td><td>Current level (0-6)</td></tr>
                <tr><td><code>.level_name</code></td><td><code>str</code></td><td>Human-readable level name</td></tr>
                <tr><td><code>.operation_count</code></td><td><code>int</code></td><td>Number of operations performed</td></tr>
            </table>
            
            <h4>Methods</h4>
            <table class="api-table">
                <tr>
                    <td><code>.invoke(k: int)</code></td>
                    <td><code>Set[Token]</code></td>
                    <td>Jump to level k, return materialized tokens</td>
                </tr>
                <tr>
                    <td><code>.spiral_up()</code></td>
                    <td><code>None</code></td>
                    <td>Move to next spiral (requires level=6)</td>
                </tr>
                <tr>
                    <td><code>.spiral_down()</code></td>
                    <td><code>None</code></td>
                    <td>Move to previous spiral (requires level=0)</td>
                </tr>
                <tr>
                    <td><code>.collapse()</code></td>
                    <td><code>None</code></td>
                    <td>Reset to level 0 (idempotent)</td>
                </tr>
                <tr>
                    <td><code>.reset()</code></td>
                    <td><code>None</code></td>
                    <td>Reset to (0,0), clear operation count</td>
                </tr>
                <tr>
                    <td><code>.set_substrate(s)</code></td>
                    <td><code>None</code></td>
                    <td>Attach a substrate to this kernel</td>
                </tr>
            </table>
        </section>
        
        <section id="api-substrate">
            <h3>Class: <code>Substrate</code></h3>
            <p>Base class for domain-specific data structures.</p>
            
            <h4>Abstract Properties (must implement)</h4>
            <table class="api-table">
                <tr><td><code>.domain</code></td><td><code>str</code></td><td>Domain identifier (e.g., "graphics.color")</td></tr>
            </table>
            
            <h4>Methods</h4>
            <table class="api-table">
                <tr>
                    <td><code>.register_primitive(name, value)</code></td>
                    <td>Add a primitive to this substrate</td>
                </tr>
                <tr>
                    <td><code>.register_operation(name, callable)</code></td>
                    <td>Add an operation to this substrate</td>
                </tr>
                <tr>
                    <td><code>.srl_address()</code></td>
                    <td>Get the SRL address for this substrate</td>
                </tr>
                <tr>
                    <td><code>.tokens_for_state(spiral, level)</code></td>
                    <td>Return tokens materialized at state (Œº function)</td>
                </tr>
                <tr>
                    <td><code>.release_materialized(spiral)</code></td>
                    <td>Release tokens for cleanup</td>
                </tr>
            </table>
        </section>
        
        <section id="api-token">
            <h3>Class: <code>Token</code></h3>
            <p>An entity within a substrate.</p>
            
            <h4>Attributes</h4>
            <table class="api-table">
                <tr><td><code>.location</code></td><td>Coordinates in the manifold</td></tr>
                <tr><td><code>.signature</code></td><td>Unique identity across dimensions</td></tr>
                <tr><td><code>.payload</code></td><td>Lazy data (not dereferenced until needed)</td></tr>
            </table>
        </section>
        
        <section id="api-srl">
            <h3>Class: <code>SecureResourceLocator</code></h3>
            <p>O(1) lookup system ‚Äî singleton registry.</p>
            
            <h4>Methods</h4>
            <table class="api-table">
                <tr>
                    <td><code>.register(substrate)</code></td>
                    <td>Register a substrate, returns address</td>
                </tr>
                <tr>
                    <td><code>.get(address)</code></td>
                    <td>O(1) lookup by SRL address</td>
                </tr>
                <tr>
                    <td><code>.invoke(address, *args)</code></td>
                    <td>O(1) invoke operation by address</td>
                </tr>
                <tr>
                    <td><code>.find(pattern)</code></td>
                    <td>Find addresses matching regex pattern</td>
                </tr>
                <tr>
                    <td><code>.list_substrates()</code></td>
                    <td>List all registered substrate addresses</td>
                </tr>
            </table>
            
            <h4>Convenience Functions</h4>
<pre><code><span class="comment"># Global shortcuts</span>
<span class="keyword">from</span> helix <span class="keyword">import</span> srl, invoke

value = srl(<span class="string">"srl://domain/substrate/primitive"</span>)   <span class="comment"># Get value</span>
result = invoke(<span class="string">"srl://domain/substrate/op"</span>, arg)  <span class="comment"># Call operation</span></code></pre>
        </section>
        
        <section id="api-primitives">
            <h3>Primitives</h3>
            <p>Built-in mathematical and media primitives.</p>
            
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Classes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Math</td><td><code>Scalar, Vector2D, Vector3D, Matrix3x3, Matrix4x4</code></td></tr>
                    <tr><td>Color</td><td><code>RGB, RGBA, GradientStop</code></td></tr>
                    <tr><td>Sound</td><td><code>Frequency, Amplitude, Waveform</code></td></tr>
                    <tr><td>Time</td><td><code>Duration, TimePoint</code></td></tr>
                    <tr><td>Geometry</td><td><code>Vertex, Edge, Triangle, Mesh</code></td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- ========================================== -->
        <!-- PATTERNS SECTION -->
        <!-- ========================================== -->
        <section id="dimensions">
            <h2>Building Dimensions</h2>
            
            <p>In dimensional computing, you define <strong>what emerges at each level</strong>, not how to construct it.</p>
            
            <h3>Dimension Definition Pattern</h3>
<pre><code><span class="keyword">class</span> <span class="type">GameEntity</span>:
    <span class="string">"""An entity with properties emerging at different dimensional levels"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, entity_id: str):
        self.entity_id = entity_id
        
        <span class="comment"># Define what emerges at each level</span>
        self._dimensions = {
            0: <span class="keyword">lambda</span>: None,                        <span class="comment"># Potential: nothing</span>
            1: <span class="keyword">lambda</span>: {<span class="string">"id"</span>: self.entity_id},      <span class="comment"># Point: identity</span>
            2: <span class="keyword">lambda</span>: self._get_properties(),       <span class="comment"># Length: properties</span>
            3: <span class="keyword">lambda</span>: self._get_relations(),        <span class="comment"># Width: relations</span>
            4: <span class="keyword">lambda</span>: self._get_context(),          <span class="comment"># Plane: context</span>
            5: <span class="keyword">lambda</span>: self._get_internals(),        <span class="comment"># Volume: depth</span>
            6: <span class="keyword">lambda</span>: self._get_whole(),            <span class="comment"># Whole: complete</span>
        }
    
    <span class="keyword">def</span> <span class="function">at_level</span>(self, level: int):
        <span class="string">"""Invoke this entity at a specific dimensional level"""</span>
        <span class="keyword">return</span> self._dimensions.get(level, <span class="keyword">lambda</span>: None)()
    
    <span class="keyword">def</span> <span class="function">_get_properties</span>(self):
        <span class="keyword">return</span> {<span class="string">"health"</span>: 100, <span class="string">"speed"</span>: 5.0, <span class="string">"position"</span>: (0, 0)}
    
    <span class="keyword">def</span> <span class="function">_get_relations</span>(self):
        <span class="keyword">return</span> {<span class="string">"team"</span>: <span class="string">"blue"</span>, <span class="string">"allies"</span>: [], <span class="string">"enemies"</span>: []}
    
    <span class="keyword">def</span> <span class="function">_get_context</span>(self):
        <span class="keyword">return</span> {<span class="string">"zone"</span>: <span class="string">"spawn"</span>, <span class="string">"visible_entities"</span>: []}
    
    <span class="keyword">def</span> <span class="function">_get_internals</span>(self):
        <span class="keyword">return</span> {
            <span class="string">"inventory"</span>: {<span class="string">"slots"</span>: 10, <span class="string">"items"</span>: []},
            <span class="string">"abilities"</span>: [<span class="string">"attack"</span>, <span class="string">"defend"</span>, <span class="string">"move"</span>]
        }
    
    <span class="keyword">def</span> <span class="function">_get_whole</span>(self):
        <span class="string">"""Merge all levels into complete entity"""</span>
        <span class="keyword">return</span> {
            **self.at_level(1),
            **self.at_level(2),
            <span class="string">"relations"</span>: self.at_level(3),
            <span class="string">"context"</span>: self.at_level(4),
            <span class="string">"internals"</span>: self.at_level(5),
        }</code></pre>
            
            <h3>Adding Attributes and Methods</h3>
<pre><code><span class="keyword">class</span> <span class="type">DimensionalCar</span>:
    <span class="string">"""Car with dimensional attributes and methods"""</span>
    
    <span class="comment"># Attributes by dimension level</span>
    _DIMENSIONAL_ATTRS = {
        0: [],                                         <span class="comment"># Nothing</span>
        1: [<span class="string">"id"</span>, <span class="string">"vin"</span>],                               <span class="comment"># Identity</span>
        2: [<span class="string">"make"</span>, <span class="string">"model"</span>, <span class="string">"year"</span>, <span class="string">"color"</span>],        <span class="comment"># Properties</span>
        3: [<span class="string">"owner"</span>, <span class="string">"dealer"</span>, <span class="string">"insurer"</span>],             <span class="comment"># Relations</span>
        4: [<span class="string">"location"</span>, <span class="string">"road"</span>, <span class="string">"traffic"</span>],            <span class="comment"># Context</span>
        5: [<span class="string">"engine"</span>, <span class="string">"wheels"</span>, <span class="string">"battery"</span>, <span class="string">"fuel"</span>],   <span class="comment"># Internals</span>
        6: [<span class="string">"*"</span>],                                       <span class="comment"># All</span>
    }
    
    <span class="comment"># Methods available at each level</span>
    _DIMENSIONAL_METHODS = {
        0: [],
        1: [<span class="string">"exists"</span>],
        2: [<span class="string">"describe"</span>],
        3: [<span class="string">"transfer_ownership"</span>],
        4: [<span class="string">"navigate"</span>, <span class="string">"park"</span>],
        5: [<span class="string">"diagnose"</span>, <span class="string">"repair"</span>, <span class="string">"refuel"</span>],
        6: [<span class="string">"*"</span>],
    }
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, car_id):
        self._level = 0
        self.id = car_id
        self.vin = f<span class="string">"VIN-{car_id}"</span>
        self.make = <span class="string">"Tesla"</span>
        self.model = <span class="string">"Model S"</span>
        self.year = 2024
        self.engine = {<span class="string">"type"</span>: <span class="string">"electric"</span>, <span class="string">"power"</span>: 670}
    
    <span class="keyword">def</span> <span class="function">invoke</span>(self, level: int):
        <span class="string">"""Set current dimensional level"""</span>
        self._level = max(0, min(6, level))
        <span class="keyword">return</span> self
    
    <span class="keyword">def</span> <span class="function">__getattr__</span>(self, name):
        <span class="string">"""Dimensional attribute access ‚Äî only returns if level permits"""</span>
        <span class="comment"># Check if attribute is accessible at current level</span>
        <span class="keyword">for</span> lvl <span class="keyword">in</span> range(self._level + 1):
            attrs = self._DIMENSIONAL_ATTRS.get(lvl, [])
            <span class="keyword">if</span> <span class="string">"*"</span> <span class="keyword">in</span> attrs <span class="keyword">or</span> name <span class="keyword">in</span> attrs:
                <span class="keyword">return</span> object.__getattribute__(self, name)
        <span class="keyword">raise</span> AttributeError(f<span class="string">"'{name}' not visible at level {self._level}"</span>)

<span class="comment"># Usage</span>
car = DimensionalCar(<span class="string">"001"</span>)
car.invoke(1).id       <span class="comment"># ‚úì Works ‚Äî identity visible at level 1</span>
car.invoke(1).engine   <span class="comment"># ‚úó AttributeError ‚Äî internals need level 5</span>
car.invoke(5).engine   <span class="comment"># ‚úì Works ‚Äî internals visible at level 5</span></code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- NO ITERATION SECTION -->
        <!-- ========================================== -->
        <section id="no-iteration">
            <h2>No Iteration Patterns</h2>
            
            <div class="principle-box">
                <h4>üö´ The Anti-Pattern: Iteration</h4>
                <p style="color: #ff6060; margin-bottom: 0;">
                    <code>for</code> loops scan data linearly ‚Äî O(n) complexity.<br>
                    In dimensional computing, <strong>iteration is always wrong</strong>.<br>
                    Use dimensional drill-down for O(1) access.
                </p>
            </div>
            
            <div class="comparison">
                <div class="comparison-bad">
                    <h5>‚ùå Wrong: Iteration</h5>
<pre><code><span class="comment"># O(n) ‚Äî scanning every piston</span>
<span class="keyword">for</span> piston <span class="keyword">in</span> engine.pistons:
    <span class="keyword">if</span> piston.misfiring:
        <span class="keyword">return</span> piston</code></pre>
                </div>
                <div class="comparison-good">
                    <h5>‚úì Correct: Drill-Down</h5>
<pre><code><span class="comment"># O(1) ‚Äî direct dimensional access</span>
engine.pistons.where(misfiring=True)</code></pre>
                </div>
            </div>
            
            <div class="comparison">
                <div class="comparison-bad">
                    <h5>‚ùå Wrong: Loop to Sum</h5>
<pre><code><span class="comment"># O(n) iteration</span>
total = 0
<span class="keyword">for</span> item <span class="keyword">in</span> cart.items:
    total += item.price</code></pre>
                </div>
                <div class="comparison-good">
                    <h5>‚úì Correct: Aggregate</h5>
<pre><code><span class="comment"># O(1) substrate operation</span>
total = cart.items.sum(<span class="string">"price"</span>)</code></pre>
                </div>
            </div>
            
            <div class="comparison">
                <div class="comparison-bad">
                    <h5>‚ùå Wrong: Find in List</h5>
<pre><code><span class="comment"># O(n) linear search</span>
<span class="keyword">for</span> user <span class="keyword">in</span> users:
    <span class="keyword">if</span> user.id == target_id:
        <span class="keyword">return</span> user</code></pre>
                </div>
                <div class="comparison-good">
                    <h5>‚úì Correct: SRL Lookup</h5>
<pre><code><span class="comment"># O(1) direct access</span>
user = srl(f<span class="string">"srl://users/{target_id}"</span>)</code></pre>
                </div>
            </div>
        </section>
        
        <!-- ========================================== -->
        <!-- RECURSION SECTION -->
        <!-- ========================================== -->
        <section id="recursion">
            <h2>Recursion over Loops</h2>
            
            <p>When you must process a structure, <strong>favor recursion</strong> over iteration. 
            Recursion naturally maps to dimensional drill-down.</p>
            
            <div class="comparison">
                <div class="comparison-bad">
                    <h5>‚ùå Wrong: Iterative Tree Walk</h5>
<pre><code><span class="keyword">def</span> find_all_files(root):
    result = []
    stack = [root]
    <span class="keyword">while</span> stack:
        node = stack.pop()
        <span class="keyword">if</span> node.is_file:
            result.append(node)
        <span class="keyword">else</span>:
            stack.extend(node.children)
    <span class="keyword">return</span> result</code></pre>
                </div>
                <div class="comparison-good">
                    <h5>‚úì Correct: Recursive Descent</h5>
<pre><code><span class="keyword">def</span> find_all_files(node):
    <span class="keyword">if</span> node.is_file:
        <span class="keyword">return</span> [node]
    <span class="keyword">return</span> sum(
        (find_all_files(child) 
         <span class="keyword">for</span> child <span class="keyword">in</span> node.children),
        []
    )</code></pre>
                </div>
            </div>
            
            <h3>Dimensional Recursive Pattern</h3>
<pre><code><span class="keyword">def</span> <span class="function">drill_down</span>(entity, target_level: int, current_level: int = 0):
    <span class="string">"""Recursively descend through dimensional levels"""</span>
    
    <span class="comment"># Base case: reached target level</span>
    <span class="keyword">if</span> current_level == target_level:
        <span class="keyword">return</span> entity.materialize_at(current_level)
    
    <span class="comment"># Recursive case: invoke next level</span>
    next_state = entity.invoke(current_level + 1)
    <span class="keyword">return</span> drill_down(next_state, target_level, current_level + 1)

<span class="comment"># Usage: get entity at depth level 5</span>
internals = drill_down(car, target_level=5)</code></pre>
            
            <h3>Tail-Recursive Accumulation</h3>
<pre><code><span class="keyword">def</span> <span class="function">collect_dimensions</span>(entity, level: int = 0, acc: dict = None):
    <span class="string">"""Collect all dimensional data via tail recursion"""</span>
    acc = acc <span class="keyword">or</span> {}
    
    <span class="comment"># Base case: reached Whole</span>
    <span class="keyword">if</span> level > 6:
        <span class="keyword">return</span> acc
    
    <span class="comment"># Collect this level's data</span>
    acc[level] = entity.at_level(level)
    
    <span class="comment"># Tail-recursive call to next level</span>
    <span class="keyword">return</span> collect_dimensions(entity, level + 1, acc)</code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- DRILL-DOWN SECTION -->
        <!-- ========================================== -->
        <section id="drill-down">
            <h2>Dimensional Drill-Down</h2>
            
            <p>The most powerful pattern: <strong>drill through dimensions</strong> instead of iterating through lists.</p>
            
            <h3>Multi-Path Access</h3>
            <p>The same object can be reached via multiple dimensional paths:</p>
            
<pre><code><span class="comment"># All three reference the SAME spark plug object</span>
car.engine.cylinder[2].sparkPlug
car.sparkPlugs.where(cylinder=2)
car.sparkPlugs[2]

<span class="comment"># Drill down to atoms</span>
car.engine.piston[0].sparkPlug.electrode.atoms[0]

<span class="comment"># Drill up from atoms</span>
atom.electrode.sparkPlug.piston.engine.car

<span class="comment"># Skip intermediate dimensions</span>
atom.car  <span class="comment"># Direct path, skipping middle levels</span></code></pre>
            
            <h3>Dimensional Query Pattern</h3>
<pre><code><span class="keyword">class</span> <span class="type">DimensionalCollection</span>:
    <span class="string">"""Collection that supports O(1) dimensional queries"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, items: list, index_by: list[str]):
        self._items = items
        self._indices = {}
        
        <span class="comment"># Build O(1) lookup indices</span>
        <span class="keyword">for</span> key <span class="keyword">in</span> index_by:
            self._indices[key] = {}
            <span class="keyword">for</span> item <span class="keyword">in</span> items:
                value = getattr(item, key, None)
                <span class="keyword">if</span> value <span class="keyword">not in</span> self._indices[key]:
                    self._indices[key][value] = []
                self._indices[key][value].append(item)
    
    <span class="keyword">def</span> <span class="function">where</span>(self, **criteria) -> list:
        <span class="string">"""O(1) lookup by indexed attributes"""</span>
        result = None
        <span class="keyword">for</span> key, value <span class="keyword">in</span> criteria.items():
            <span class="keyword">if</span> key <span class="keyword">in</span> self._indices:
                matches = set(self._indices[key].get(value, []))
                result = matches <span class="keyword">if</span> result <span class="keyword">is</span> None <span class="keyword">else</span> result & matches
        <span class="keyword">return</span> list(result) <span class="keyword">if</span> result <span class="keyword">else</span> []
    
    <span class="keyword">def</span> <span class="function">__getitem__</span>(self, index):
        <span class="string">"""Direct index access ‚Äî O(1)"""</span>
        <span class="keyword">return</span> self._items[index]
    
    <span class="keyword">def</span> <span class="function">sum</span>(self, attr: str) -> float:
        <span class="string">"""Aggregate without iteration (pre-computed or lazy)"""</span>
        <span class="comment"># In a real substrate, this would be O(1) from cached aggregate</span>
        <span class="keyword">return</span> sum(getattr(item, attr, 0) <span class="keyword">for</span> item <span class="keyword">in</span> self._items)

<span class="comment"># Usage</span>
pistons = DimensionalCollection(engine.pistons, index_by=[<span class="string">"misfiring"</span>, <span class="string">"cylinder"</span>])

<span class="comment"># O(1) ‚Äî no iteration</span>
misfiring = pistons.where(misfiring=True)
cylinder_2 = pistons.where(cylinder=2)</code></pre>
            
            <h3>Complete Drill-Down Example</h3>
<pre><code><span class="keyword">class</span> <span class="type">Engine</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.cylinders = DimensionalCollection([
            Cylinder(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(4)
        ], index_by=[<span class="string">"number"</span>, <span class="string">"misfiring"</span>])
    
    <span class="comment"># Dimensional drill-down property</span>
    @property
    <span class="keyword">def</span> <span class="function">misfiring_cylinder</span>(self):
        <span class="string">"""O(1) ‚Äî not a loop!"""</span>
        <span class="keyword">return</span> self.cylinders.where(misfiring=True)[0]
    
    <span class="comment"># Drill to specific depth</span>
    <span class="keyword">def</span> <span class="function">spark_plug</span>(self, cylinder: int):
        <span class="string">"""Direct dimensional path"""</span>
        <span class="keyword">return</span> self.cylinders[cylinder].spark_plug

<span class="comment"># Usage ‚Äî never iterate</span>
engine = Engine()
bad_plug = engine.misfiring_cylinder.spark_plug  <span class="comment"># O(1) drill-down</span>
plug_2 = engine.spark_plug(2)                     <span class="comment"># O(1) direct path</span></code></pre>
        </section>
        
        <!-- ========================================== -->
        <!-- EXAMPLES SECTION -->
        <!-- ========================================== -->
        <section id="examples">
            <h2>Complete Examples</h2>
            
            <h3>Example 1: Vehicle Fleet System</h3>
<pre><code><span class="keyword">from</span> helix <span class="keyword">import</span> HelixKernel, Substrate, Token, SecureResourceLocator

<span class="keyword">class</span> <span class="type">FleetSubstrate</span>(Substrate):
    <span class="string">"""Vehicle fleet with dimensional access"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        super().__init__(<span class="string">"fleet"</span>)
        self._vehicles = {}
        
        <span class="comment"># Register operations</span>
        self.register_operation(<span class="string">"add_vehicle"</span>, self.add_vehicle)
        self.register_operation(<span class="string">"find_by_status"</span>, self.find_by_status)
    
    @property
    <span class="keyword">def</span> <span class="function">domain</span>(self) -> str:
        <span class="keyword">return</span> <span class="string">"vehicle.fleet"</span>
    
    <span class="keyword">def</span> <span class="function">add_vehicle</span>(self, vehicle_id: str, **attrs):
        self._vehicles[vehicle_id] = {
            <span class="string">"id"</span>: vehicle_id,
            <span class="string">"attrs"</span>: attrs,
            <span class="string">"status"</span>: <span class="string">"idle"</span>,
            <span class="string">"location"</span>: (0, 0),
        }
        <span class="comment"># Build index for O(1) status lookup</span>
        self._rebuild_indices()
    
    <span class="keyword">def</span> <span class="function">_rebuild_indices</span>(self):
        self._status_index = {}
        <span class="keyword">for</span> vid, data <span class="keyword">in</span> self._vehicles.items():
            status = data[<span class="string">"status"</span>]
            <span class="keyword">if</span> status <span class="keyword">not in</span> self._status_index:
                self._status_index[status] = []
            self._status_index[status].append(vid)
    
    <span class="keyword">def</span> <span class="function">find_by_status</span>(self, status: str):
        <span class="string">"""O(1) lookup ‚Äî no iteration"""</span>
        <span class="keyword">return</span> self._status_index.get(status, [])
    
    <span class="keyword">def</span> <span class="function">tokens_for_state</span>(self, spiral: int, level: int):
        <span class="keyword">return</span> {
            Token(vid, level=level, payload=self._materialize(data, level))
            <span class="keyword">for</span> vid, data <span class="keyword">in</span> self._vehicles.items()
        }
    
    <span class="keyword">def</span> <span class="function">_materialize</span>(self, data, level):
        <span class="keyword">if</span> level < 1: <span class="keyword">return</span> None
        <span class="keyword">if</span> level == 1: <span class="keyword">return</span> {<span class="string">"id"</span>: data[<span class="string">"id"</span>]}
        <span class="keyword">if</span> level == 2: <span class="keyword">return</span> {**data[<span class="string">"attrs"</span>]}
        <span class="keyword">return</span> data

<span class="comment"># Setup</span>
fleet = FleetSubstrate()
SRL = SecureResourceLocator()
SRL.register(fleet)

<span class="comment"># Add vehicles via SRL</span>
invoke(<span class="string">"srl://vehicle.fleet/fleet/add_vehicle"</span>, <span class="string">"truck_001"</span>, make=<span class="string">"Ford"</span>, model=<span class="string">"F-150"</span>)
invoke(<span class="string">"srl://vehicle.fleet/fleet/add_vehicle"</span>, <span class="string">"car_001"</span>, make=<span class="string">"Tesla"</span>, model=<span class="string">"Model 3"</span>)

<span class="comment"># O(1) lookup</span>
idle_vehicles = invoke(<span class="string">"srl://vehicle.fleet/fleet/find_by_status"</span>, <span class="string">"idle"</span>)
<span class="keyword">print</span>(idle_vehicles)  <span class="comment"># ‚Üí ["truck_001", "car_001"]</span></code></pre>
            
            <h3>Example 2: Nested Dimensional Entity</h3>
<pre><code><span class="keyword">class</span> <span class="type">Computer</span>:
    <span class="string">"""Computer with deeply nested dimensional structure"""</span>
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self._level = 0
        self.id = <span class="string">"pc_001"</span>
        
        <span class="comment"># Nested structure emerges at level 5</span>
        self._internals = {
            <span class="string">"cpu"</span>: {
                <span class="string">"cores"</span>: [
                    {<span class="string">"id"</span>: i, <span class="string">"freq_ghz"</span>: 3.5, <span class="string">"temp_c"</span>: 45 + i*2}
                    <span class="keyword">for</span> i <span class="keyword">in</span> range(8)
                ],
                <span class="string">"cache_mb"</span>: 16,
            },
            <span class="string">"ram"</span>: {<span class="string">"size_gb"</span>: 32, <span class="string">"speed_mhz"</span>: 3200},
            <span class="string">"storage"</span>: [
                {<span class="string">"type"</span>: <span class="string">"nvme"</span>, <span class="string">"size_tb"</span>: 1},
                {<span class="string">"type"</span>: <span class="string">"hdd"</span>, <span class="string">"size_tb"</span>: 4},
            ]
        }
        
        <span class="comment"># Build indices for O(1) access</span>
        self._core_by_id = {c[<span class="string">"id"</span>]: c <span class="keyword">for</span> c <span class="keyword">in</span> self._internals[<span class="string">"cpu"</span>][<span class="string">"cores"</span>]}
        self._storage_by_type = {s[<span class="string">"type"</span>]: s <span class="keyword">for</span> s <span class="keyword">in</span> self._internals[<span class="string">"storage"</span>]}
    
    <span class="keyword">def</span> <span class="function">invoke</span>(self, level: int):
        self._level = level
        <span class="keyword">return</span> self
    
    <span class="comment"># Dimensional drill-down methods</span>
    <span class="keyword">def</span> <span class="function">core</span>(self, core_id: int):
        <span class="string">"""O(1) ‚Äî direct to specific core"""</span>
        <span class="keyword">if</span> self._level < 5:
            <span class="keyword">raise</span> RuntimeError(<span class="string">"Invoke level 5 to access internals"</span>)
        <span class="keyword">return</span> self._core_by_id.get(core_id)
    
    <span class="keyword">def</span> <span class="function">storage</span>(self, storage_type: str):
        <span class="string">"""O(1) ‚Äî direct to specific storage"""</span>
        <span class="keyword">if</span> self._level < 5:
            <span class="keyword">raise</span> RuntimeError(<span class="string">"Invoke level 5 to access internals"</span>)
        <span class="keyword">return</span> self._storage_by_type.get(storage_type)
    
    <span class="keyword">def</span> <span class="function">hottest_core</span>(self):
        <span class="string">"""O(1) ‚Äî pre-indexed, not iterated"""</span>
        <span class="comment"># In practice, maintain a sorted index</span>
        <span class="keyword">return</span> max(self._core_by_id.values(), key=<span class="keyword">lambda</span> c: c[<span class="string">"temp_c"</span>])

<span class="comment"># Usage</span>
pc = Computer()

<span class="comment"># Drill down to internals</span>
pc.invoke(5)
core_3 = pc.core(3)           <span class="comment"># O(1) direct access</span>
nvme = pc.storage(<span class="string">"nvme"</span>)     <span class="comment"># O(1) by type</span>
hot = pc.hottest_core()       <span class="comment"># O(1) pre-computed</span>

<span class="keyword">print</span>(f<span class="string">"Core 3 temp: {core_3['temp_c']}¬∞C"</span>)
<span class="keyword">print</span>(f<span class="string">"NVMe size: {nvme['size_tb']}TB"</span>)
<span class="keyword">print</span>(f<span class="string">"Hottest core: {hot['id']} at {hot['temp_c']}¬∞C"</span>)</code></pre>
        </section>
        
        <!-- Footer -->
        <section style="margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border-color);">
            <p style="text-align: center; color: #666; font-size: 0.9em;">
                ButterflyFX Helix Kernel ‚Äî ¬© 2024-2026 Kenneth Bingham<br>
                <small>Licensed under Creative Commons Attribution 4.0 International (CC BY 4.0)</small>
            </p>
        </section>
    </main>
    
    <script>
        // Highlight active nav link on scroll
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.sidebar-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
        
        // Smooth scroll for nav links
        navLinks.forEach(link => {
            if (link.getAttribute('href').startsWith('#')) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const target = document.querySelector(link.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            }
        });
    </script>
</body>
</html>

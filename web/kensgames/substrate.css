/* ═══════════════════════════════════════════════════════════════════
   KEN'S GAMES — 80s ARCADE MANIFOLD SUBSTRATE v2.0
   ═══════════════════════════════════════════════════════════════════
   z = x · y — One expression, the whole surface.
   Three States: Potential → Null (0D) → Manifest
   φ governs ALL proportions. Fibonacci governs ALL spacing.
   7 Genesis layers govern ALL depth.

   THEME: 80s Retro Arcade — neon, CRT scanlines, synthwave,
   checkerboard floor, walk-through corridor, enveloping parallax.
   SVG faces scale infinitely — no quality loss.
   ═══════════════════════════════════════════════════════════════════ */

@layer spark, mirror, relation, form, life, mind, completion;

/* ═══ POTENTIAL — Root manifold ═══ */
:root {
  --phi: 1.618033988749895;
  --phi-inv: 0.618033988749895;
  --phi-sq: 2.618033988749895;

  /* Fibonacci scale */
  --f1: 1px;
  --f2: 2px;
  --f3: 3px;
  --f5: 5px;
  --f8: 8px;
  --f13: 13px;
  --f21: 21px;
  --f34: 34px;
  --f55: 55px;
  --f89: 89px;
  --f144: 144px;
  --f233: 233px;
  --f377: 377px;
  --f610: 610px;
  --f987: 987px;
  --f1597: 1597px;

  /* phi-powered type scale */
  --t-xs: 0.618rem;
  --t-sm: 0.786rem;
  --t-base: 1rem;
  --t-md: 1.272rem;
  --t-lg: 1.618rem;
  --t-xl: 2.058rem;
  --t-2xl: 2.618rem;
  --t-3xl: 4.236rem;
  --t-hero: 6.854rem;

  /* Fibonacci timing */
  --dur-fast: 144ms;
  --dur-normal: 233ms;
  --dur-slow: 377ms;
  --dur-dramatic: 610ms;
  --dur-breath: 1597ms;

  /* 80s ARCADE palette — neon on black */
  --neon-pink: #ff2d95;
  --neon-pink-glow: rgba(255, 45, 149, 0.5);
  --neon-blue: #00d4ff;
  --neon-blue-glow: rgba(0, 212, 255, 0.4);
  --neon-purple: #b24dff;
  --neon-purple-glow: rgba(178, 77, 255, 0.35);
  --neon-green: #39ff14;
  --neon-green-glow: rgba(57, 255, 20, 0.3);
  --neon-yellow: #ffe600;
  --neon-yellow-glow: rgba(255, 230, 0, 0.35);
  --neon-orange: #ff6b00;
  --neon-orange-glow: rgba(255, 107, 0, 0.35);
  --neon-red: #ff073a;
  --gold: #ffd700;
  --gold-glow: rgba(255, 215, 0, 0.35);

  /* Genesis layer neons */
  --g1: #ff2d95;
  --g2: #ff6b00;
  --g3: #ffe600;
  --g4: #39ff14;
  --g5: #00d4ff;
  --g6: #b24dff;
  --g7: #ff073a;

  /* Depth surfaces */
  --void: #030008;
  --deep: #06000f;
  --glass: rgba(8, 2, 20, 0.88);
  --glass-bright: rgba(15, 5, 30, 0.92);
  --text: #f0e6ff;
  --text-dim: #9b8ab8;
  --text-muted: #5a4a72;
  --border: rgba(178, 77, 255, 0.15);
  --border-glow: rgba(255, 45, 149, 0.3);

  /* z-depth — Fibonacci */
  --z1: 0;
  --z2: 1;
  --z3: 5;
  --z4: 8;
  --z5: 13;
  --z6: 21;
  --z7: 34;

  /* 3D perspective — walk-through corridor */
  --perspective: 1000px;
  --perspective-origin: 50% 45%;
}

/* ═══ NULL (0D) — Reset ═══ */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

/* ═══════════════════════════════════════════════════
   LAYER 1 - SPARK — Void, deep space, CRT overlay
   ═══════════════════════════════════════════════════ */
@layer spark {
  body {
    font-family: 'Rajdhani', system-ui, sans-serif;
    background: var(--void);
    color: var(--text);
    line-height: var(--phi);
    overflow-x: hidden;
    min-height: 100vh;
  }

  /* 3D corridor container */
  .depth-world {
    perspective: var(--perspective);
    perspective-origin: var(--perspective-origin);
    transform-style: preserve-3d;
    will-change: transform;
  }

  /* Background canvas layers */
  [data-layer="void"] {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  #starfield    { z-index: var(--z1); }
  #arcade-scene { z-index: var(--z2); }

  /* CRT scanline overlay */
  .crt-overlay {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 50;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.035) 0px,
      rgba(0, 0, 0, 0.035) 1px,
      transparent 1px,
      transparent 3px
    );
  }

  /* CRT vignette — darkened edges */
  .crt-overlay::after {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(
      ellipse at 50% 50%,
      transparent 55%,
      rgba(0, 0, 0, 0.35) 100%
    );
    pointer-events: none;
  }
}


/* ═══════════════════════════════════════════════════
   LAYER 2 - MIRROR — Multi-depth parallax envelope
   ═══════════════════════════════════════════════════ */
@layer mirror {
  /* Parallax envelope — wraps SVG float layers */
  .parallax-envelope {
    position: fixed;
    inset: 0;
    z-index: var(--z1);
    pointer-events: none;
    overflow: hidden;
    transform-style: preserve-3d;
  }

  .parallax-layer {
    position: absolute;
    inset: -10%;
    width: 120%;
    height: 120%;
    will-change: transform;
    transform-style: preserve-3d;
  }

  .parallax-layer[data-depth="back"]  { transform: translateZ(-300px) scale(1.3); }
  .parallax-layer[data-depth="mid"]   { transform: translateZ(-150px) scale(1.15); }
  .parallax-layer[data-depth="front"] { transform: translateZ(-50px) scale(1.05); }

  /* Neon side walls — arcade corridor edges */
  .arcade-wall-left,
  .arcade-wall-right {
    position: fixed;
    top: 0;
    bottom: 0;
    width: 3px;
    pointer-events: none;
    z-index: var(--z3);
  }
  .arcade-wall-left {
    left: 0;
    background: linear-gradient(to bottom, transparent 5%, var(--neon-pink), transparent 95%);
    box-shadow: 0 0 34px var(--neon-pink-glow), 0 0 89px var(--neon-pink-glow);
  }
  .arcade-wall-right {
    right: 0;
    background: linear-gradient(to bottom, transparent 5%, var(--neon-blue), transparent 95%);
    box-shadow: 0 0 34px var(--neon-blue-glow), 0 0 89px var(--neon-blue-glow);
  }

  /* Volumetric overhead light */
  .ceiling-light {
    position: fixed;
    top: -15%;
    left: 50%;
    width: 140%;
    height: 60%;
    transform: translateX(-50%);
    background: conic-gradient(
      from 180deg at 50% 0%,
      transparent 30%,
      rgba(178, 77, 255, 0.04) 40%,
      rgba(255, 45, 149, 0.06) 50%,
      rgba(178, 77, 255, 0.04) 60%,
      transparent 70%
    );
    pointer-events: none;
    z-index: var(--z2);
    animation: ceilingPulse 8s ease-in-out infinite;
  }

  @keyframes ceilingPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
  }

  /* Ambient neon fog — low haze */
  .neon-fog {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 30vh;
    background: linear-gradient(
      to top,
      rgba(178, 77, 255, 0.06),
      rgba(0, 212, 255, 0.03) 40%,
      transparent
    );
    pointer-events: none;
    z-index: var(--z2);
    animation: fogDrift 13s ease-in-out infinite alternate;
  }

  @keyframes fogDrift {
    0%   { opacity: 0.6; transform: translateY(0); }
    100% { opacity: 1; transform: translateY(-21px); }
  }

  /* Section aura */
  section::before {
    content: '';
    position: absolute;
    top: -5%;
    left: 50%;
    width: 80%;
    height: 50%;
    transform: translateX(-50%);
    background: radial-gradient(ellipse at 50% 30%,
      rgba(178, 77, 255, 0.04), transparent 70%);
    pointer-events: none;
    z-index: -1;
  }

  /* Hero aurora */
  .hero::after {
    content: '';
    position: absolute;
    top: 15%;
    left: 50%;
    width: 80vw;
    height: 60vh;
    transform: translateX(-50%);
    background: radial-gradient(
      ellipse 60% 40% at 50% 50%,
      rgba(255, 45, 149, 0.08),
      rgba(178, 77, 255, 0.04) 40%,
      transparent 70%
    );
    pointer-events: none;
    z-index: -1;
    animation: auroraPulse 8s ease-in-out infinite;
  }

  @keyframes auroraPulse {
    0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.7; }
    50% { transform: translateX(-50%) scale(1.1); opacity: 1; }
  }
}


/* ═══════════════════════════════════════════════════
   LAYER 3 - RELATION — Grid, layout, structure
   ═══════════════════════════════════════════════════ */
@layer relation {
  main {
    position: relative;
    z-index: var(--z3);
    max-width: var(--f1597);
    margin: 0 auto;
    padding: 0 var(--f21);
  }

  .grid { display: grid; gap: var(--f21); }
  .grid-2 { grid-template-columns: repeat(2, 1fr); }
  .grid-3 { grid-template-columns: repeat(3, 1fr); }
  .grid-4 { grid-template-columns: repeat(4, 1fr); }

  section {
    padding: var(--f89) 0;
    position: relative;
  }

  @media (max-width: 987px) {
    .grid-3, .grid-4 { grid-template-columns: repeat(2, 1fr); }
  }
  @media (max-width: 610px) {
    .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
    main { padding: 0 var(--f13); }
    section { padding: var(--f55) 0; }
  }
}


/* ═══════════════════════════════════════════════════
   LAYER 4 - FORM — Arcade cabinet cards, neon panels
   ═══════════════════════════════════════════════════ */
@layer form {
  /* Arcade cabinet card */
  .game-card {
    background: var(--glass);
    border: var(--f2) solid var(--border);
    border-radius: var(--f13);
    padding: var(--f34);
    position: relative;
    overflow: hidden;
    transition: all var(--dur-normal) cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
    transform: perspective(800px) rotateX(0) rotateY(0);
    cursor: pointer;
  }

  /* Mouse-tracking radial glow */
  .game-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at var(--mx, 50%) var(--my, 50%),
      rgba(255, 45, 149, 0.12) 0%,
      rgba(178, 77, 255, 0.04) 40%,
      transparent 61.8%
    );
    opacity: 0;
    transition: opacity var(--dur-normal);
    pointer-events: none;
  }

  /* Card scanline texture */
  .game-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg, transparent 0px, transparent 2px,
      rgba(178, 77, 255, 0.02) 2px, rgba(178, 77, 255, 0.02) 4px
    );
    pointer-events: none;
    border-radius: var(--f13);
  }

  .game-card:hover {
    border-color: var(--neon-pink);
    transform: perspective(800px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg)) translateZ(var(--f13));
    box-shadow:
      0 0 var(--f21) var(--neon-pink-glow),
      0 0 var(--f55) rgba(255, 45, 149, 0.15),
      0 var(--f21) var(--f55) rgba(0, 0, 0, 0.5),
      inset 0 var(--f1) 0 rgba(255, 255, 255, 0.05);
  }
  .game-card:hover::before { opacity: 1; }

  /* Featured game — arcade marquee */
  .featured-card {
    background: linear-gradient(135deg,
      rgba(255, 45, 149, 0.06),
      rgba(178, 77, 255, 0.04),
      rgba(0, 212, 255, 0.03)
    );
    border: var(--f2) solid var(--neon-pink);
    border-radius: var(--f21);
    padding: var(--f55);
    text-align: center;
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
    box-shadow:
      0 0 var(--f34) var(--neon-pink-glow),
      0 0 var(--f89) rgba(255, 45, 149, 0.1);
  }

  /* Rotating neon border */
  .featured-card::before {
    content: '';
    position: absolute;
    inset: calc(-1 * var(--f3));
    border-radius: var(--f21);
    background: conic-gradient(
      from var(--gradient-angle, 0deg),
      var(--neon-pink), var(--neon-blue), var(--neon-purple),
      var(--neon-green), var(--neon-yellow), var(--neon-pink)
    );
    z-index: -2;
    opacity: 0.4;
    animation: rotateBorder 5s linear infinite;
    filter: blur(3px);
  }

  @property --gradient-angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
  }

  @keyframes rotateBorder {
    to { --gradient-angle: 360deg; }
  }

  .featured-card::after {
    content: '';
    position: absolute;
    inset: var(--f3);
    background: var(--deep);
    border-radius: calc(var(--f21) - var(--f3));
    z-index: -1;
  }

  .featured-card .game-badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-purple));
    color: #fff;
    padding: var(--f5) var(--f21);
    border-radius: var(--f34);
    font-weight: 700;
    font-size: var(--t-sm);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: var(--f21);
    box-shadow: 0 0 var(--f21) var(--neon-pink-glow);
  }

  .featured-card .game-logo {
    max-width: var(--f233);
    height: auto;
    filter: drop-shadow(0 0 var(--f34) var(--neon-pink-glow));
    margin: var(--f21) auto;
    display: block;
  }

  /* Play mode cards */
  .mode-card {
    background: var(--glass);
    border: var(--f1) solid var(--border);
    border-radius: var(--f13);
    padding: var(--f21);
    text-align: center;
    transition: all var(--dur-normal);
    text-decoration: none;
    color: var(--text);
    display: block;
    position: relative;
    overflow: hidden;
  }

  .mode-card:hover {
    border-color: var(--neon-blue);
    transform: translateY(calc(-1 * var(--f5)));
    box-shadow:
      0 0 var(--f13) var(--neon-blue-glow),
      0 var(--f13) var(--f34) rgba(0, 0, 0, 0.5);
  }

  .mode-icon { font-size: var(--t-3xl); display: block; margin-bottom: var(--f8); }

  .mode-badge {
    display: inline-block;
    background: rgba(0, 212, 255, 0.12);
    color: var(--neon-blue);
    padding: var(--f3) var(--f8);
    border-radius: var(--f5);
    font-size: var(--t-xs);
    font-weight: 700;
    margin-bottom: var(--f8);
    text-shadow: 0 0 8px var(--neon-blue-glow);
  }

  /* Screenshot gallery */
  .gallery {
    display: flex;
    gap: var(--f13);
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding: var(--f13) 0;
    -webkit-overflow-scrolling: touch;
  }
  .gallery::-webkit-scrollbar { height: var(--f5); }
  .gallery::-webkit-scrollbar-track { background: rgba(178, 77, 255, 0.05); border-radius: var(--f3); }
  .gallery::-webkit-scrollbar-thumb { background: var(--neon-pink); border-radius: var(--f3); box-shadow: 0 0 8px var(--neon-pink-glow); }

  .gallery-item {
    flex: 0 0 320px;
    scroll-snap-align: start;
    border-radius: var(--f13);
    overflow: hidden;
    border: var(--f1) solid var(--border);
    transition: all var(--dur-normal);
    position: relative;
    aspect-ratio: 16/10;
  }
  .gallery-item img { width: 100%; height: 100%; object-fit: cover; }
  .gallery-item:hover {
    border-color: var(--neon-pink);
    transform: scale(1.03);
    box-shadow: 0 0 var(--f21) var(--neon-pink-glow), 0 var(--f8) var(--f34) rgba(0,0,0,0.6);
  }
  .gallery-item .caption {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    background: linear-gradient(transparent, rgba(3, 0, 8, 0.9));
    padding: var(--f21) var(--f13) var(--f8);
    font-size: var(--t-sm);
    font-weight: 600;
    color: var(--neon-blue);
    text-shadow: 0 0 8px var(--neon-blue-glow);
  }

  /* Info cards */
  .info-card {
    background: var(--glass);
    border: var(--f1) solid var(--border);
    border-radius: var(--f13);
    padding: var(--f21);
    transition: all var(--dur-normal);
  }
  .info-card:hover {
    border-color: rgba(178, 77, 255, 0.35);
    transform: translateY(calc(-1 * var(--f3)));
    box-shadow: 0 0 var(--f21) rgba(178, 77, 255, 0.12);
  }

  .info-icon { font-size: var(--t-2xl); margin-bottom: var(--f8); display: block; }

  .info-number {
    width: var(--f34); height: var(--f34);
    display: flex; align-items: center; justify-content: center;
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-purple));
    color: #fff;
    border-radius: var(--f8);
    font-family: 'Orbitron', sans-serif;
    font-weight: 700; font-size: var(--t-lg);
    margin-bottom: var(--f13);
    box-shadow: 0 0 var(--f13) var(--neon-pink-glow);
  }

  /* ── Arcade Floor Scene — people at cabinets ── */
  .arcade-floor-scene {
    position: relative;
    border-radius: var(--f13);
    overflow: hidden;
    padding: var(--f55) var(--f21);
    background:
      linear-gradient(180deg,
        rgba(3,0,8,0.2) 0%,
        rgba(15,5,30,0.5) 40%,
        rgba(3,0,8,0.85) 100%
      );
    border: var(--f1) solid var(--border);
  }

  /* Checkerboard floor reflection */
  .arcade-floor-scene::after {
    content: '';
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 40%;
    background:
      repeating-conic-gradient(
        rgba(178,77,255,0.03) 0% 25%,
        transparent 0% 50%
      ) 0 0 / 34px 34px;
    mask-image: linear-gradient(to top, rgba(0,0,0,0.4), transparent);
    -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0.4), transparent);
    pointer-events: none;
  }

  .arcade-people {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: var(--f8);
    min-height: 200px;
    position: relative;
    z-index: 1;
  }

  .arcade-station {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--f5);
    position: relative;
  }

  /* Cabinet silhouette */
  .cabinet-sil {
    width: 60px;
    height: 140px;
    background: linear-gradient(180deg, #15152a 0%, #0d0d1a 100%);
    border: var(--f1) solid var(--border);
    border-radius: var(--f5) var(--f5) 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: var(--f8);
    position: relative;
    box-shadow: 0 var(--f5) var(--f21) rgba(0,0,0,0.6);
  }

  .cabinet-screen {
    width: 42px;
    height: 36px;
    border-radius: var(--f3);
    animation: screenFlicker 3s ease-in-out infinite alternate;
  }

  @keyframes screenFlicker {
    0%, 90% { opacity: 0.85; }
    92% { opacity: 0.4; }
    95% { opacity: 0.95; }
    100% { opacity: 0.75; }
  }

  .cab-1 .cabinet-screen {
    background: linear-gradient(135deg, var(--neon-pink), #ff00aa);
    box-shadow: 0 0 var(--f21) var(--neon-pink-glow), 0 0 var(--f55) rgba(255,0,170,0.3);
  }
  .cab-2 .cabinet-screen {
    background: linear-gradient(135deg, var(--neon-blue), #00e5ff);
    box-shadow: 0 0 var(--f21) var(--neon-blue-glow), 0 0 var(--f55) rgba(0,229,255,0.3);
  }
  .cab-3 .cabinet-screen {
    background: linear-gradient(135deg, var(--neon-green), #22dd44);
    box-shadow: 0 0 var(--f21) var(--neon-green-glow), 0 0 var(--f55) rgba(57,255,20,0.3);
  }
  .cab-4 .cabinet-screen {
    background: linear-gradient(135deg, var(--neon-purple), #9944ff);
    box-shadow: 0 0 var(--f21) var(--neon-purple-glow), 0 0 var(--f55) rgba(153,68,255,0.3);
  }
  .cab-5 .cabinet-screen {
    background: linear-gradient(135deg, var(--neon-yellow), var(--neon-orange));
    box-shadow: 0 0 var(--f21) var(--neon-yellow-glow), 0 0 var(--f55) rgba(255,230,0,0.3);
  }

  .cabinet-controls {
    width: 36px;
    height: var(--f13);
    margin-top: var(--f8);
    border-radius: var(--f2);
    background: #1a1a2a;
    border: var(--f1) solid rgba(255,255,255,0.06);
    position: relative;
  }
  .cabinet-controls::before {
    content: '';
    position: absolute;
    left: 6px; top: 3px;
    width: 5px; height: 5px;
    border-radius: 50%;
    background: var(--neon-red);
    box-shadow: 14px 0 0 var(--neon-blue), 7px -1px 0 var(--neon-green);
  }

  .cabinet-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.4rem;
    color: var(--text-muted);
    text-align: center;
    margin-top: var(--f3);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  /* Person CSS silhouette */
  .arcade-person {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    margin-top: auto;
  }

  .person-head {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--border);
    box-shadow: 0 0 var(--f8) rgba(178,77,255,0.15);
  }

  .person-body {
    width: 20px;
    height: 36px;
    border-radius: var(--f3) var(--f3) 0 0;
    margin-top: var(--f2);
    background: linear-gradient(180deg, #1a1a3a, #111128);
    border: var(--f1) solid rgba(178,77,255,0.12);
  }

  .person-arms {
    width: 36px;
    height: 6px;
    border-radius: var(--f3);
    margin-top: -24px;
    background: #1a1a3a;
    border: var(--f1) solid rgba(178,77,255,0.1);
    position: relative;
    z-index: 1;
  }

  .person-legs {
    display: flex;
    gap: var(--f3);
  }
  .person-legs span {
    width: 7px;
    height: 28px;
    background: #15152a;
    border: var(--f1) solid rgba(178,77,255,0.08);
    border-radius: 0 0 var(--f2) var(--f2);
  }

  /* Neon Sign */
  .neon-sign {
    text-align: center;
    padding: var(--f21) 0;
  }

  .neon-sign-text {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: var(--t-3xl);
    color: #fff;
    text-shadow:
      0 0 5px #fff,
      0 0 var(--f13) var(--neon-pink),
      0 0 var(--f34) var(--neon-pink),
      0 0 var(--f55) var(--neon-pink),
      0 0 var(--f89) rgba(255,45,149,0.3);
    letter-spacing: 0.2em;
    text-transform: uppercase;
  }

  @keyframes signFlicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.5; }
  }
  .flicker { animation: signFlicker 3s linear infinite; }

  /* Neon Divider */
  .neon-divider {
    width: 200px;
    height: var(--f2);
    margin: var(--f55) auto;
    background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-pink), transparent);
    box-shadow: 0 0 var(--f8) var(--neon-blue-glow), 0 0 var(--f21) rgba(255,45,149,0.2);
    border: none;
  }

  /* About / Story Block */
  .story-block {
    background: rgba(15,5,30,0.5);
    border: var(--f1) solid var(--border);
    border-left: var(--f3) solid var(--neon-pink);
    border-radius: 0 var(--f8) var(--f8) 0;
    padding: var(--f34);
    margin-bottom: var(--f21);
    position: relative;
  }
  .story-block::before {
    content: '';
    position: absolute;
    left: calc(-1 * var(--f3)); top: 0; bottom: 0;
    width: var(--f3);
    background: var(--neon-pink);
    box-shadow: 0 0 var(--f13) var(--neon-pink-glow), 0 0 var(--f34) rgba(255,45,149,0.25);
  }

  .story-block h3 {
    color: var(--neon-blue);
    text-shadow: 0 0 var(--f8) var(--neon-blue-glow);
    margin-bottom: var(--f13);
    font-size: var(--t-md);
  }

  /* Score Ticker */
  .score-ticker {
    display: flex;
    justify-content: center;
    gap: var(--f55);
    padding: var(--f34) 0;
    flex-wrap: wrap;
  }
  .score-item { text-align: center; }
  .score-value {
    font-family: 'Orbitron', sans-serif;
    font-size: var(--t-2xl);
    font-weight: 900;
    color: var(--neon-yellow);
    text-shadow: 0 0 var(--f13) var(--neon-yellow-glow);
    display: block;
  }
  .score-label {
    font-size: var(--t-xs);
    color: var(--text-dim);
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-top: var(--f3);
  }

  /* Game card icons */
  .game-icon {
    font-size: var(--t-3xl);
    display: block;
    margin-bottom: var(--f13);
    filter: drop-shadow(0 0 var(--f8) currentColor);
  }

  .game-status {
    display: inline-block;
    padding: var(--f3) var(--f8);
    border-radius: var(--f5);
    font-size: var(--t-xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }
  .status-live {
    color: var(--neon-green);
    border: var(--f1) solid var(--neon-green);
    text-shadow: 0 0 var(--f8) var(--neon-green-glow);
    box-shadow: 0 0 var(--f8) rgba(57,255,20,0.15);
  }
  .status-dev {
    color: var(--neon-purple);
    border: var(--f1) solid var(--neon-purple);
    text-shadow: 0 0 var(--f8) var(--neon-purple-glow);
  }
  .status-concept {
    color: var(--neon-yellow);
    border: var(--f1) solid var(--neon-yellow);
    text-shadow: 0 0 var(--f8) var(--neon-yellow-glow);
  }

  @media (max-width: 610px) {
    .arcade-people { flex-wrap: wrap; gap: var(--f13); min-height: auto; }
    .neon-sign-text { font-size: var(--t-2xl); }
    .score-ticker { flex-direction: column; gap: var(--f21); }
  }
}


/* ═══════════════════════════════════════════════════
   LAYER 5 - LIFE — Typography, neon glow text
   ═══════════════════════════════════════════════════ */
@layer life {
  h1, h2, h3, h4 { font-family: 'Orbitron', sans-serif; }
  h1 { font-size: clamp(var(--t-3xl), 8vw, var(--t-hero)); line-height: 1.05; }
  h2 { font-size: var(--t-2xl); text-align: center; margin-bottom: var(--f34);
       color: var(--neon-blue); text-shadow: 0 0 8px var(--neon-blue-glow), 0 0 21px rgba(0, 212, 255, 0.15); }
  h3 { font-size: var(--t-lg); margin-bottom: var(--f8); }
  h4 { font-size: var(--t-md); }
  p  { color: var(--text-dim); line-height: var(--phi); }

  .sub {
    text-align: center; color: var(--text-dim); font-size: var(--t-md);
    max-width: var(--f987);
    margin: calc(-1 * var(--f21)) auto var(--f34);
  }

  .section-tag {
    display: inline-block;
    background: rgba(255, 45, 149, 0.08);
    color: var(--neon-pink);
    padding: var(--f5) var(--f13);
    border-radius: var(--f34);
    font-size: var(--t-sm); font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.1em;
    margin-bottom: var(--f13);
    text-shadow: 0 0 13px var(--neon-pink-glow);
    border: 1px solid rgba(255, 45, 149, 0.2);
  }

  /* Hero title — neon sign */
  .hero-title { text-align: center; text-transform: uppercase; }
  .hero-title .line1 {
    display: block; font-size: 0.45em;
    color: var(--neon-blue); letter-spacing: 0.3em;
    text-shadow: 0 0 7px var(--neon-blue-glow), 0 0 21px var(--neon-blue-glow), 0 0 55px rgba(0, 212, 255, 0.15);
    animation: neonFlicker 4s ease-in-out infinite;
  }
  .hero-title .line2 {
    display: block;
    color: var(--neon-pink);
    text-shadow: 0 0 7px var(--neon-pink-glow), 0 0 21px var(--neon-pink-glow), 0 0 55px rgba(255,45,149,0.2), 0 0 89px rgba(255,45,149,0.1);
    animation: neonGlow 3s ease-in-out infinite;
  }

  @keyframes neonGlow {
    0%, 100% { opacity: 1; text-shadow: 0 0 7px var(--neon-pink-glow), 0 0 21px var(--neon-pink-glow), 0 0 55px rgba(255,45,149,0.2); }
    50%      { opacity: 0.95; text-shadow: 0 0 5px var(--neon-pink-glow), 0 0 13px var(--neon-pink-glow), 0 0 34px rgba(255,45,149,0.15); }
  }

  @keyframes neonFlicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.7; }
  }

  .fire-text { color: var(--neon-pink); text-shadow: 0 0 13px var(--neon-pink-glow); }
  .neon-text { color: var(--neon-blue); text-shadow: 0 0 var(--f21) var(--neon-blue-glow); }
}


/* ═══════════════════════════════════════════════════
   LAYER 6 - MIND — Nav, buttons, interaction
   ═══════════════════════════════════════════════════ */
@layer mind {
  header {
    position: fixed; top: 0; width: 100%; z-index: var(--z6);
    display: flex; align-items: center; justify-content: space-between;
    padding: var(--f13) var(--f34);
    background: rgba(3, 0, 8, 0.94);
    backdrop-filter: blur(var(--f13));
    border-bottom: var(--f2) solid rgba(178, 77, 255, 0.2);
    box-shadow: 0 2px 21px rgba(178, 77, 255, 0.08);
  }

  .logo {
    display: flex; align-items: center; gap: var(--f8);
    text-decoration: none; color: var(--text);
    font-family: 'Orbitron', sans-serif; font-size: var(--t-lg); font-weight: 700;
  }
  .logo-glow {
    color: var(--neon-pink);
    text-shadow: 0 0 8px var(--neon-pink-glow), 0 0 21px rgba(255, 45, 149, 0.2);
  }

  nav { display: flex; gap: var(--f21); align-items: center; }
  nav a {
    color: var(--text-dim); text-decoration: none; font-size: var(--t-sm);
    transition: all var(--dur-fast); letter-spacing: 0.05em;
  }
  nav a:hover { color: var(--neon-blue); text-shadow: 0 0 13px var(--neon-blue-glow); }

  /* Arcade neon buttons */
  .btn {
    display: inline-flex; align-items: center; gap: var(--f8);
    padding: var(--f13) var(--f21);
    border: var(--f2) solid transparent;
    border-radius: var(--f8);
    font-family: 'Orbitron', sans-serif; font-weight: 700; font-size: var(--t-base);
    text-decoration: none; cursor: pointer;
    transition: all var(--dur-normal);
    text-transform: uppercase; letter-spacing: 0.08em;
    background: transparent;
  }

  .btn-fire {
    color: var(--neon-pink); border-color: var(--neon-pink);
    box-shadow: 0 0 var(--f13) var(--neon-pink-glow), inset 0 0 var(--f13) rgba(255, 45, 149, 0.1);
    text-shadow: 0 0 8px var(--neon-pink-glow);
  }
  .btn-fire:hover {
    background: rgba(255, 45, 149, 0.1);
    transform: translateY(calc(-1 * var(--f3))) scale(1.02);
    box-shadow: 0 0 var(--f21) var(--neon-pink-glow), 0 0 var(--f55) rgba(255, 45, 149, 0.15), inset 0 0 var(--f21) rgba(255, 45, 149, 0.15);
  }

  .btn-gold {
    color: var(--gold); border-color: var(--gold);
    box-shadow: 0 0 var(--f13) var(--gold-glow), inset 0 0 var(--f13) rgba(255, 215, 0, 0.08);
    text-shadow: 0 0 8px var(--gold-glow);
  }
  .btn-gold:hover {
    background: rgba(255, 215, 0, 0.08);
    transform: translateY(calc(-1 * var(--f3))) scale(1.02);
    box-shadow: 0 0 var(--f21) var(--gold-glow), 0 0 var(--f55) rgba(255, 215, 0, 0.12);
  }

  .btn-glass {
    color: var(--neon-blue);
    border-color: rgba(0, 212, 255, 0.4);
    box-shadow: 0 0 var(--f8) rgba(0, 212, 255, 0.15);
    text-shadow: 0 0 5px var(--neon-blue-glow);
  }
  .btn-glass:hover {
    border-color: var(--neon-blue);
    transform: translateY(calc(-1 * var(--f3)));
    box-shadow: 0 0 var(--f21) var(--neon-blue-glow);
  }

  .btn-lg { padding: var(--f13) var(--f34); font-size: var(--t-md); }

  /* Stats row */
  .stats { display: flex; justify-content: center; gap: var(--f55); flex-wrap: wrap; margin: var(--f34) 0; }
  .stat { text-align: center; }
  .stat-value {
    font-family: 'Orbitron', sans-serif; font-size: var(--t-2xl); font-weight: 700; display: block;
    color: var(--neon-pink); text-shadow: 0 0 13px var(--neon-pink-glow);
  }
  .stat-label { font-size: var(--t-xs); color: var(--text-dim); display: block; }

  .play-buttons { display: flex; justify-content: center; gap: var(--f13); flex-wrap: wrap; margin: var(--f34) 0; }

  /* Mobile hamburger */
  .burger {
    display: none; flex-direction: column; gap: var(--f5);
    background: none; border: none; cursor: pointer; padding: var(--f5);
  }
  .burger span {
    display: block; width: var(--f21); height: var(--f2);
    background: var(--neon-pink); border-radius: var(--f1);
    transition: all var(--dur-fast); box-shadow: 0 0 5px var(--neon-pink-glow);
  }

  /* Mobile drawer */
  .drawer {
    position: fixed; top: 0; right: 0;
    width: 280px; height: 100vh;
    background: rgba(3, 0, 8, 0.98);
    backdrop-filter: blur(var(--f21));
    z-index: 100;
    transform: translateX(100%);
    transition: transform var(--dur-slow) cubic-bezier(0.4, 0, 0.2, 1);
    padding: var(--f34);
    display: flex; flex-direction: column; gap: var(--f21);
    border-left: var(--f2) solid rgba(178, 77, 255, 0.2);
  }
  .drawer.open { transform: translateX(0); }
  .drawer nav { flex-direction: column; gap: var(--f13); }
  .drawer nav a { font-size: var(--t-base); padding: var(--f8) 0; border-bottom: var(--f1) solid rgba(178, 77, 255, 0.08); }
  .drawer-close { align-self: flex-end; background: none; border: none; color: var(--neon-pink); font-size: var(--t-xl); cursor: pointer; }

  .overlay {
    position: fixed; inset: 0; background: rgba(3, 0, 8, 0.6);
    z-index: 99; opacity: 0; pointer-events: none; transition: opacity var(--dur-slow);
  }
  .overlay.visible { opacity: 1; pointer-events: auto; }

  /* Scroll indicator */
  .scroll-hint {
    display: flex; flex-direction: column; align-items: center; gap: var(--f5);
    margin-top: var(--f34);
    color: var(--text-muted); font-size: var(--t-xs);
    text-transform: uppercase; letter-spacing: 0.3em;
    animation: scrollPulse var(--dur-breath) ease-in-out infinite;
  }
  .scroll-arrow {
    width: var(--f13); height: var(--f13);
    border-right: var(--f2) solid var(--neon-pink);
    border-bottom: var(--f2) solid var(--neon-pink);
    transform: rotate(45deg);
    box-shadow: 3px 3px 8px var(--neon-pink-glow);
  }

  @keyframes scrollPulse {
    0%, 100% { opacity: 0.3; transform: translateY(0); }
    50% { opacity: 1; transform: translateY(var(--f8)); }
  }

  @media (max-width: 610px) {
    .burger { display: flex; }
    header nav { display: none; }
    .stats { gap: var(--f21); }
    .play-buttons { flex-direction: column; align-items: center; }
  }
}


/* ═══════════════════════════════════════════════════
   LAYER 7 - COMPLETION — Hero, CTA, SVG faces
   ═══════════════════════════════════════════════════ */
@layer completion {
  .hero {
    min-height: 100vh;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
    padding-top: var(--f233); padding-bottom: var(--f89);
    position: relative;
  }

  .hero-subtitle {
    font-size: var(--t-lg); color: var(--text-dim);
    max-width: var(--f610); margin: var(--f21) auto 0;
  }

  /* INSERT COIN blink */
  .insert-coin {
    font-family: 'Orbitron', sans-serif; font-size: var(--t-sm);
    color: var(--neon-yellow);
    text-shadow: 0 0 13px var(--neon-yellow-glow);
    letter-spacing: 0.3em; text-transform: uppercase;
    margin-top: var(--f34);
    animation: coinBlink 1.2s step-end infinite;
  }

  @keyframes coinBlink {
    0%, 60% { opacity: 1; }
    61%, 100% { opacity: 0; }
  }

  .cta-final { text-align: center; padding: var(--f89) 0; }
  .cta-final h2 {
    color: var(--neon-pink);
    text-shadow: 0 0 8px var(--neon-pink-glow), 0 0 21px rgba(255,45,149,0.2), 0 0 55px rgba(255,45,149,0.1);
  }

  /* Coming soon — retro stamp */
  .coming-soon { position: relative; opacity: 0.4; pointer-events: none; }
  .coming-soon::after {
    content: 'INSERT COIN';
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%) rotate(-8deg);
    color: var(--neon-yellow);
    padding: var(--f5) var(--f21);
    border: var(--f2) solid var(--neon-yellow);
    border-radius: var(--f5);
    font-family: 'Orbitron', sans-serif; font-weight: 700; font-size: var(--t-sm);
    white-space: nowrap; z-index: var(--z5);
    text-shadow: 0 0 8px var(--neon-yellow-glow);
    box-shadow: 0 0 13px var(--neon-yellow-glow);
    animation: coinBlink 1.2s step-end infinite;
  }

  /* Footer */
  footer {
    text-align: center; padding: var(--f55) var(--f21);
    border-top: var(--f2) solid rgba(178, 77, 255, 0.15);
    color: var(--text-muted); font-size: var(--t-sm);
    background: linear-gradient(to top, rgba(178, 77, 255, 0.03), transparent);
  }
  footer a { color: var(--neon-pink); text-decoration: none; }
  footer a:hover { color: var(--neon-blue); text-shadow: 0 0 8px var(--neon-blue-glow); }

  .footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--f144), 1fr));
    gap: var(--f34); max-width: var(--f987);
    margin: 0 auto var(--f34); text-align: left;
  }
  .footer-col h4 { font-size: var(--t-sm); margin-bottom: var(--f13); color: var(--neon-blue); text-shadow: 0 0 5px var(--neon-blue-glow); }
  .footer-col a { display: block; color: var(--text-dim); padding: var(--f3) 0; font-size: var(--t-sm); }
  .footer-col a:hover { color: var(--neon-pink); }

  /* Scroll reveal */
  .reveal {
    opacity: 0;
    transform: translateY(var(--f34)) translateZ(-55px);
    transition: all var(--dur-dramatic) cubic-bezier(0.4, 0, 0.2, 1);
  }
  .reveal.visible { opacity: 1; transform: translateY(0) translateZ(0); }

  .section-head { text-align: center; margin-bottom: var(--f34); }

  /* SVG floating faces — infinite scale, no quality loss */
  .svg-face {
    position: absolute;
    pointer-events: none;
    will-change: transform;
    opacity: 0;
    transition: opacity 1s ease;
  }
  .svg-face.visible { opacity: 1; }
  .svg-face svg { width: 100%; height: 100%; }
}

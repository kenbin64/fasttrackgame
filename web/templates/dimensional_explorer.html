<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimensional Explorer - ButterflyFx</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dimensional_explorer.css') }}">
</head>
<body>
    <div class="explorer-container">
        <!-- Top Navigation Bar -->
        <div class="top-nav">
            <div class="nav-left">
                <button class="nav-btn" id="back-btn" title="Back">‚óÄ</button>
                <button class="nav-btn" id="forward-btn" title="Forward">‚ñ∂</button>
                <button class="nav-btn" id="up-btn" title="Up">‚¨Ü</button>
                <button class="nav-btn" id="refresh-btn" title="Refresh">‚ü≥</button>
            </div>
            
            <div class="nav-center">
                <div class="address-bar">
                    <span class="address-icon">üìç</span>
                    <input type="text" id="address-input" placeholder="substrate://local/..." value="substrate://local/">
                    <button class="go-btn">Go</button>
                </div>
            </div>
            
            <div class="nav-right">
                <button class="nav-btn" id="new-connection-btn" title="New Connection">üîó Connect</button>
                <button class="nav-btn" id="view-connections-btn" title="View Connections">üìä Connections</button>
            </div>
        </div>
        
        <!-- Search/Query Bar -->
        <div class="search-bar">
            <div class="search-container">
                <select id="search-mode" class="search-mode-select">
                    <option value="search">üîç Search</option>
                    <option value="query">üí¨ Query</option>
                    <option value="filter">üîé Filter</option>
                </select>
                <input type="text" id="search-input" placeholder="Search substrates or query dimensional database...">
                <button class="search-btn" id="execute-btn">Execute</button>
            </div>
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Panel: Hierarchical Tree View -->
            <div class="left-panel">
                <div class="panel-header">
                    <h3>üå≥ Dimensional Hierarchy</h3>
                    <button class="collapse-btn" id="collapse-tree">‚àí</button>
                </div>
                
                <div class="tree-view" id="hierarchy-tree">
                    <div class="tree-section">
                        <div class="tree-item root-item" data-path="substrate://local/">
                            <span class="tree-icon">üñ¥</span>
                            <span class="tree-label">Local Substrates</span>
                        </div>
                        <div class="tree-children">
                            <div class="tree-item" data-subject="WEATHER">
                                <span class="tree-icon">üå§Ô∏è</span>
                                <span class="tree-label">Weather</span>
                            </div>
                            <div class="tree-item" data-subject="IMAGE">
                                <span class="tree-icon">üñºÔ∏è</span>
                                <span class="tree-label">Images</span>
                            </div>
                            <div class="tree-item" data-subject="VIDEO">
                                <span class="tree-icon">üé¨</span>
                                <span class="tree-label">Videos</span>
                            </div>
                            <div class="tree-item" data-subject="AUDIO">
                                <span class="tree-icon">üéµ</span>
                                <span class="tree-label">Audio</span>
                            </div>
                            <div class="tree-item" data-subject="TEXT">
                                <span class="tree-icon">üìÑ</span>
                                <span class="tree-label">Text</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tree-section">
                        <div class="tree-item root-item" data-path="substrate://connections/">
                            <span class="tree-icon">üîó</span>
                            <span class="tree-label">Connections</span>
                        </div>
                        <div class="tree-children" id="connections-tree">
                            <!-- Dynamically populated -->
                        </div>
                    </div>
                    
                    <div class="tree-section">
                        <div class="tree-item root-item" data-path="substrate://external/">
                            <span class="tree-icon">üåê</span>
                            <span class="tree-label">External Sources</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Connect Buttons -->
                <div class="quick-connect-section">
                    <div class="panel-header">
                        <h4>‚ö° Quick Connect</h4>
                    </div>
                    <div class="quick-connect-grid" id="quick-connect-buttons">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Right Panel: Main View Area -->
            <div class="right-panel">
                <!-- View Mode Tabs -->
                <div class="view-tabs">
                    <button class="view-tab active" data-view="folder">üìÅ Folder View</button>
                    <button class="view-tab" data-view="table">üìä Table View</button>
                    <button class="view-tab" data-view="dimension">üåå Dimension View</button>
                </div>
                
                <!-- Folder/File View -->
                <div class="view-container active" id="folder-view">
                    <div class="view-header">
                        <div class="breadcrumb" id="breadcrumb">
                            <span class="breadcrumb-item">Local</span>
                        </div>
                        <div class="view-controls">
                            <button class="control-btn" title="List View">‚ò∞</button>
                            <button class="control-btn active" title="Grid View">‚äû</button>
                            <button class="control-btn" title="Details">‚â°</button>
                        </div>
                    </div>
                    
                    <div class="folder-grid" id="folder-grid">
                        <!-- Dynamically populated -->
                    </div>
                </div>
                
                <!-- Table View -->
                <div class="view-container" id="table-view">
                    <div class="table-controls">
                        <button class="table-btn">+ Add Column</button>
                        <button class="table-btn">üîç Filter</button>
                        <button class="table-btn">‚¨á Sort</button>
                        <button class="table-btn">üì§ Export</button>
                    </div>
                    
                    <div class="table-wrapper">
                        <table class="dimensional-table" id="substrate-table">
                            <thead>
                                <tr>
                                    <th>Identity</th>
                                    <th>Name</th>
                                    <th>Subject</th>
                                    <th>Source</th>
                                    <th>Created</th>
                                    <th>Tags</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Dimension View -->
                <div class="view-container" id="dimension-view">
                    <div class="dimension-canvas-container">
                        <canvas id="dimension-canvas"></canvas>
                        <div class="dimension-controls">
                            <div class="dimension-info">
                                <h4>Dimensional Visualization</h4>
                                <p>Relationships and hierarchy displayed as dimensional graph</p>
                            </div>
                            <div class="dimension-buttons">
                                <button class="dim-btn">üîÑ Rotate</button>
                                <button class="dim-btn">üîç Zoom</button>
                                <button class="dim-btn">üìê Layout</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span id="status-text">Ready</span>
            </div>
            <div class="status-right">
                <span id="item-count">0 items</span>
                <span class="separator">|</span>
                <span id="storage-info">0 KB</span>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='dimensional_explorer.js') }}"></script>
</body>
</html>

